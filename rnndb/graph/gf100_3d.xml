<?xml version="1.0" encoding="UTF-8"?>
<database xmlns="http://nouveau.freedesktop.org/"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xsi:schemaLocation="http://nouveau.freedesktop.org/ rules-ng.xsd">
<import file="copyright.xml"/>

<import file="nv_defs.xml"/>
<import file="graph/nv_3ddefs.xml"/>
<import file="fifo/nv_object.xml"/>
<import file="g80_defs.xml"/>
<import file="graph/gk104_p2mf.xml"/>

<enum name="gf100_vtxelt_type" inline="yes">
	<value value="1" name="SNORM"/>
	<value value="2" name="UNORM"/>
	<value value="3" name="SINT"/><!-- no conversion (as in glVertexAttribIPointer) -->
	<value value="4" name="UINT"/>
	<value value="5" name="USCALED"/><!-- converted to float -->
	<value value="6" name="SSCALED"/>
	<value value="7" name="FLOAT"/>
</enum>

<!-- 64 bit sizes use 2 attribute slots -->
<enum name="gf100_vtxelt_size" inline="yes">
	<value value="0x01" name="32_32_32_32"/>
	<value value="0x02" name="32_32_32"/>
	<value value="0x03" name="16_16_16_16"/>
	<value value="0x04" name="32_32"/>
	<value value="0x05" name="16_16_16"/>
	<value value="0x0a" name="8_8_8_8"/>
	<value value="0x0f" name="16_16"/>
	<value value="0x12" name="32"/>
	<value value="0x13" name="8_8_8"/>
	<value value="0x18" name="8_8"/>
	<value value="0x1b" name="16"/>
	<value value="0x1d" name="8"/>
	<value value="0x30" name="10_10_10_2"/>
	<value value="0x31" name="11_11_10"/>
</enum>

<domain name="SUBCHAN" bare="yes">
	<stripe prefix="obj-class" variants="GF100_3D:G80_2D">
		<stripe variants="GK104_3D-">
			<use-group name="gk104_upload"/>
		</stripe>

		<!-- NOTE: GF100_3D_CYLINDRICAL_WRAP doesn't exit, it has to be done in a GP -->

		<reg32 offset="0x0200" name="UNK200"/>
		<reg32 offset="0x0204" name="UNK204">
			<doc>0-0x13 or 0x1f</doc>
		</reg32>
		<reg32 offset="0x0208" name="UNK208">
			<doc>0x013fffff, scan pending</doc>
		</reg32>
		<reg32 offset="0x020c" name="LINE_WIDTH_SEPARATE" type="boolean"/>
		<reg32 offset="0x0210" name="FORCE_EARLY_FRAGMENT_TESTS" type="boolean">
			<doc>If false, early tests are enabled only when possible, i.e.
			no alpha test, no discard, no g[] access, no depth export, ...
			</doc>
		</reg32>
		<reg32 offset="0x0214" name="UNK214">
			<doc>0x9fff1fff, scan pending</doc>
		</reg32>
		<reg32 offset="0x0218" name="UNK218">
			<doc>0x00, 0x10, or 0x20</doc>
		</reg32>
		<reg32 offset="0x021c" name="MEM_BARRIER">
			<bitfield name="UNK0" pos="0"/>
			<bitfield name="UNK1" pos="1"/>
			<bitfield name="UNK2" pos="2"/><!-- used for glMemoryBarrier(), 0x1111 is used normally -->
			<bitfield name="UNK4" pos="4"/>
			<bitfield name="UNK8" pos="8" variants="GF100_3D:GK104_3D"/>
			<bitfield name="UNK12" pos="12"/>
		</reg32>
		<reg32 offset="0x0220" name="UNK0220" length="0x28">
			<doc>Very likely to be manual vertex data submission.</doc>
		</reg32>
		<reg32 offset="0x02c0" name="UNK02C0" type="boolean"/>
		<reg32 offset="0x02c4" name="UNK02C4" type="boolean" variants="GF100_3D:GK104_3D">
			<doc>Shared with dijkstra</doc>
		</reg32>
		<reg32 offset="0x02c8" name="GLOBAL_BASE" variants="GF100_3D:GK104_3D">
			<bitfield name="HIGH" high="7" low="0"/>
			<bitfield name="INDEX" high="23" low="16"/>
			<bitfield name="READ_OK" pos="30"/>
			<bitfield name="WRITE_OK" pos="31"/>
			<doc>Remaps high byte of g[] address used in CP (INDEX -> HIGH).</doc>
		</reg32>
		<reg32 offset="0x02cc" name="UNK02CC">
			<doc>0-0x3fffff</doc>
		</reg32>
		<reg32 offset="0x02d0" name="UNK02D0">
			<doc>0-0x3fffff</doc>
		</reg32>
		<reg32 offset="0x02d4" name="UNK02D4">
			<doc>Only 0, same as 902d UNK228</doc>
		</reg32>
		<reg32 offset="0x02d8" name="UNK02D8">
			<doc>0x00, 0x10, 0x20, 0x30, 0x40, 0x50. Tiling mode for something?</doc>
		</reg32>
		<reg32 offset="0x02e0" name="UNK02E0" type="boolean" variants="GF110_3D:GK104_3D"/>
		<reg32 offset="0x02e4" name="UNK02E4" variants="GF108_3D-">
			<bitfield pos="0" name="UNK0"/>
			<bitfield pos="4" name="UNK4"/>
			<bitfield pos="8" name="UNK8"/>
			<bitfield low="12" high="15" name="UNK12"/>
		</reg32>
		<reg32 offset="0x02e8" name="UNK02E8" variants="GF110_3D-"/> <!-- ffffff1 -->
		<reg32 offset="0x02ec" name="UNK02EC">
			<bitfield pos="0" name="UNK0"/>
			<bitfield low="4" high="11" name="UNK4"/>
		</reg32>
		<reg32 offset="0x02f8" name="UNK02F8" variants="GF110_3D-"/> <!-- fffffff -->
		<reg32 offset="0x02fc" name="UNK02FC" variants="GF110_3D-"/> <!-- 3 -->
		<reg32 offset="0x0300" name="UNK0300">
			<doc>0-3</doc>
		</reg32>
		<reg32 offset="0x0304" name="UNK0304">
			<doc>0xffffffff</doc>
		</reg32>
		<reg32 offset="0x0308" name="CACHE_SPLIT">
			<value value="1" name="16K_SHARED_48K_L1" variants="GF108_3D-"/>
			<value value="2" name="32K_SHARED_32K_L1" variants="GK104_3D-"/>
			<value value="3" name="48K_SHARED_16K_L1"/>
		</reg32>
		<reg32 offset="0x030c" name="UNK030C">
			<doc>0-1, no icmd, shared with dijkstra.</doc>
		</reg32>
		<reg32 offset="0x0310" name="UNK0310" variants="GF100_3D:GK104_3D">
			<doc>0-0xff, no icmd.</doc>
		</reg32>
		<reg32 offset="0x0310" name="UNK0310" variants="GK104_3D-"/> <!-- ffff -->
		<reg32 offset="0x0314" name="UNK0314">
			<doc>0-1</doc>
		</reg32>
		<reg32 offset="0x0318" name="UNK0318">
			<doc>8 or 0x101-0x108</doc>
		</reg32>
		<reg32 offset="0x031c" name="UNK031C">
			<doc>8 or 0x101-0x108</doc>
		</reg32>
		<reg32 offset="0x0320" name="TESS_MODE">
			<bitfield name="PRIM" high="1" low="0">
				<value value="0" name="ISOLINES"/>
				<value value="1" name="TRIANGLES"/>
				<value value="2" name="QUADS"/>
			</bitfield>
			<bitfield name="SPACING" high="5" low="4">
				<value value="0" name="EQUAL"/>
				<value value="1" name="FRACTIONAL_ODD"/>
				<value value="2" name="FRACTIONAL_EVEN"/>
			</bitfield>
			<bitfield name="CW" high="8" low="8"/>
			<bitfield name="CONNECTED" high="9" low="9"/>
		</reg32>
		<reg32 offset="0x0324" name="TESS_LEVEL_OUTER" length="4" type="float"/>
		<reg32 offset="0x0334" name="TESS_LEVEL_INNER" length="2" type="float"/>
		<reg32 offset="0x033c" name="UNK033C" length="9">
			<doc>0-1, no icmd.</doc>
		</reg32>
		<reg32 offset="0x0360" name="UNK0360">
			<doc>Aligned to 0x80</doc>
		</reg32>
		<reg32 offset="0x0364" name="UNK0364">
			<doc>0-0x80</doc>
		</reg32>
		<reg32 offset="0x0368" name="UNK0368">
			<doc>0-1, no icmd.</doc>
		</reg32>
		<reg32 offset="0x036c" name="UNK036C" variants="GF110_3D-"/> <!-- ff1 -->
		<reg32 offset="0x0370" name="UNK0370" variants="GF110_3D-"/> <!-- 71 -->
		<reg32 offset="0x0374" name="UNK0374" variants="GF110_3D-"/> <!-- 11 -->
		<reg32 offset="0x0378" name="UNK0378" variants="GF110_3D-"/> <!-- 3f -->
		<reg32 offset="0x037c" name="RASTERIZE_ENABLE" type="boolean"/>
		<stripe offset="0x0380" name="TFB" length="4" stride="32">
			<reg32 offset="0x00" name="BUFFER_ENABLE" type="boolean"/>
			<reg32 offset="0x04" name="ADDRESS_HIGH"/>
			<reg32 offset="0x08" name="ADDRESS_LOW"/>
			<reg32 offset="0x0c" name="BUFFER_SIZE" type="int"/>
			<reg32 offset="0x10" name="BUFFER_OFFSET" type="int">
				<doc>In bytes. Use with TFB query 0xd to resume transform feedback.</doc>
			</reg32>
		</stripe>
		<reg32 offset="0x0400" name="UNK0400" length="0xc0">
			<doc>Vertex submission of some sort?</doc>
		</reg32>
		<reg32 offset="0x0700" name="TFB_STREAM" length="4" stride="16">
			<doc>0-3</doc>
		</reg32>
		<reg32 offset="0x0704" name="TFB_VARYING_COUNT" length="4" stride="16" type="uint"/>
		<reg32 offset="0x0708" name="TFB_BUFFER_STRIDE" length="4" stride="16" type="int"/>
		<reg32 offset="0x0740" name="UNK0740">
			<doc>0-3, rasterized stream ? Seems to just disable all drawing (including CLEAR_BUFFERS).</doc>
		</reg32>
		<reg32 offset="0x0744" name="TFB_ENABLE" type="boolean"/>
		<reg32 offset="0x0748" name="UNK0748">
			<doc>0-1</doc>
		</reg32>
		<reg32 offset="0x074c" name="UNK074C">
			<doc>0-0xff</doc>
		</reg32>
		<reg32 offset="0x0750" name="UNK0750">
			<doc>0-1</doc>
		</reg32>
		<reg32 offset="0x0754" name="SAMPLE_SHADING">
			<bitfield high="3" low="0" name="MIN_SAMPLES" type="uint">
				<doc>1, 2, 4, or 8. Takes effect even if ENABLE is 0.</doc>
			</bitfield>
			<bitfield pos="4" name="ENABLE" type="boolean"/>
		</reg32>
		<reg32 offset="0x075c" name="UNK075C">
			<doc>0-0x20</doc>
		</reg32>
		<reg32 offset="0x0760" name="UNK0760" length="4">
			<doc>0xffffffff, no icmd.</doc>
		</reg32>
		<reg32 offset="0x0770" name="UNK0770" length="3">
			<bitfield low="4" high="7" name="UNK4"/>
			<bitfield low="12" high="15" name="UNK12"/>
			<bitfield low="20" high="23" name="UNK20"/>
			<bitfield low="28" high="31" name="UNK28"/>
		</reg32>
		<reg32 offset="0x077c" name="LOCAL_BASE"/>
		<reg32 offset="0x0780" name="UNK0780" length="4">
			<doc>0xffffffff, no icmd.</doc>
		</reg32>
		<reg32 offset="0x0790" name="TEMP_ADDRESS_HIGH"/>
		<reg32 offset="0x0794" name="TEMP_ADDRESS_LOW"/>
		<reg32 offset="0x0798" name="TEMP_SIZE_HIGH"/>
		<reg32 offset="0x079c" name="TEMP_SIZE_LOW"/>
		<reg32 offset="0x07a0" name="WARP_TEMP_ALLOC">
			<doc>0x3ffffff, aligned to 0x200, shared with dijkstra</doc>
		</reg32>
		<reg32 offset="0x07a4" name="UNK07A4" length="2" variants="GF110_3D-"/> <!-- 7fff -->
		<reg32 offset="0x07ac" name="UNK07AC" variants="GK104_3D-"/> <!-- ffffffff -->
		<reg32 offset="0x07b0" name="UNK07B0" length="4">
			<doc>Vertex data upload?</doc>
		</reg32>
		<reg32 offset="0x07c0" name="ZCULL_WIDTH"/>
		<reg32 offset="0x07c4" name="ZCULL_HEIGHT"/>
		<reg32 offset="0x07c8" name="ZCULL_UNK07C8">
			<doc>0-0x800</doc>
		</reg32>
		<reg32 offset="0x07cc" name="ZCULL_UNK07CC">
			<doc>0-0x7ff</doc>
		</reg32>
		<reg32 offset="0x07d0" name="UNK07D0" length="3">
			<bitfield low="4" high="7" name="UNK4"/>
			<bitfield low="12" high="15" name="UNK12"/>
			<bitfield low="20" high="23" name="UNK20"/>
			<bitfield low="28" high="31" name="UNK28"/>
		</reg32>
		<reg32 offset="0x07dc" name="UNK07DC" type="boolean"/>
		<reg32 offset="0x07e0" name="UNK07E0">
			<doc>0xffffffff, align(width * height * 19, 128 KiB)</doc>
		</reg32>
		<reg32 offset="0x07e4" name="UNK07E4">
			<doc>0-0xffff, only seen as 0x07e0 shifted right by 16</doc>
		</reg32>
		<reg32 offset="0x07e8" name="ZCULL_ADDRESS_HIGH"/>
		<reg32 offset="0x07ec" name="ZCULL_ADDRESS_LOW"/>
		<reg32 offset="0x07f0" name="ZCULL_LIMIT_HIGH"/>
		<reg32 offset="0x07f4" name="ZCULL_LIMIT_LOW">
			<doc>ADDRESS + align((width * height) / 28, 128 KiB),
			receives the same address as the next allocated object, so should be a limit ...
			doesn't have any immediate effect though (as long as data is in cache ?)
			</doc>
		</reg32>
		<reg32 offset="0x07f8" name="UNK07F8">
			<doc>Related to depth write / test?</doc>
			<bitfield pos="0" name="UNK0"/>
			<bitfield pos="4" name="UNK1"/>
		</reg32>
		<reg32 offset="0x07fc" name="UNK07FC" type="boolean" variants="GK104_3D-"/>
		<stripe offset="0x0800" name="RT" length="8" stride="64">
			<reg32 offset="0x00" name="ADDRESS_HIGH"/>
			<reg32 offset="0x04" name="ADDRESS_LOW"/>
			<reg32 offset="0x08" name="HORIZ" type="uint"/>
			<reg32 offset="0x0c" name="VERT" type="uint"/>
			<reg32 offset="0x10" name="FORMAT" type="G80_SURFACE_FORMAT"/>
			<reg32 offset="0x14" name="BLOCK_DIMENSIONS">
				<bitfield pos="0" name="WIDTH" />
				<bitfield low="4" high="6" name="HEIGHT" min="0" max="5" />
				<bitfield low="8" high="10" name="DEPTH" min="0" max="5" />
				<bitfield pos="12" name="LAYOUT" type="inv_memory_layout"/>
				<bitfield pos="16" name="UNK16"/>
			</reg32>
			<reg32 offset="0x18" name="ARRAY_MODE"><!-- ??? -->
			  <bitfield name="LAYERS" high="15" low="0" type="uint"/>
			  <bitfield name="VOLUME" high="16" low="16" type="boolean"/>
			</reg32>
			<reg32 offset="0x1c" name="LAYER_STRIDE" type="uint"/><!-- in dwords -->
			<reg32 offset="0x20" name="BASE_LAYER"/>
			<reg32 offset="0x24" name="UNK14" type="boolean"/>
		</stripe>
		<reg32 offset="0x0a00" name="VIEWPORT_SCALE_X" length="16" stride="32" type="float"/>
		<reg32 offset="0x0a04" name="VIEWPORT_SCALE_Y" length="16" stride="32" type="float"/>
		<reg32 offset="0x0a08" name="VIEWPORT_SCALE_Z" length="16" stride="32" type="float"/>
		<reg32 offset="0x0a0c" name="VIEWPORT_TRANSLATE_X" length="16" stride="32" type="float"/>
		<reg32 offset="0x0a10" name="VIEWPORT_TRANSLATE_Y" length="16" stride="32" type="float"/>
		<reg32 offset="0x0a14" name="VIEWPORT_TRANSLATE_Z" length="16" stride="32" type="float"/>
		<reg32 offset="0x0a1c" name="SUBPIXEL_PRECISION" length="16" stride="32" variants="GM204_3D-">
			<doc>A bias which can increase the number of bits of subpixel precision
			when combined with conservative rasterization.</doc>
			<bitfield name="BIAS_X" low="0" high="7" type="uint"/>
			<bitfield name="BIAS_Y" low="8" high="15" type="uint"/>
		</reg32>
		<reg32 offset="0x0c00" name="VIEWPORT_HORIZ" length="16" stride="16">
			<bitfield name="X" high="15" low="0" type="int"/>
			<bitfield name="W" high="31" low="16" type="int"/>
		</reg32>
		<reg32 offset="0x0c04" name="VIEWPORT_VERT" length="16" stride="16">
			<bitfield name="Y" high="15" low="0" type="int"/>
			<bitfield name="H" high="31" low="16" type="int"/>
		</reg32>
		<reg32 offset="0x0c08" name="DEPTH_RANGE_NEAR" length="16" stride="16" type="float"/>
		<reg32 offset="0x0c0c" name="DEPTH_RANGE_FAR" length="16" stride="16" type="float">
			<doc>Effective values somehow depend on ZETA state.</doc>
		</reg32>
		<reg32 offset="0x0d00" name="CLIP_RECT_HORIZ" length="8" stride="8">
			<bitfield name="MIN" high="15" low="0" type="uint"/>
			<bitfield name="MAX" high="31" low="16" type="uint"/>
		</reg32>
		<reg32 offset="0x0d04" name="CLIP_RECT_VERT" length="8" stride="8">
			<bitfield name="MIN" high="15" low="0" type="uint"/>
			<bitfield name="MAX" high="31" low="16" type="uint"/>
		</reg32>
		<reg32 offset="0x0d40" name="CLIPID_REGION_HORIZ" type="xw16" length="4" stride="8"/>
		<reg32 offset="0x0d44" name="CLIPID_REGION_VERT" type="yh16" length="4" stride="8"/>
		<reg32 offset="0x0d60" name="UNK0D60">
			<doc>0-0x400</doc>
		</reg32>
		<reg32 offset="0x0d64" name="CALL_LIMIT_LOG">
			<doc>Determines how many "limitted" calls are allowed. Value 0 means none.
		        Values 1-8 are interpretted as log2(limit)+1. Value 0xf means unlimitted.</doc>
		</reg32>
		<reg32 offset="0x0d68" name="COUNTER_ENABLE">
			<bitfield pos="0" name="UNK00"/>
			<bitfield pos="1" name="UNK01"/>
			<bitfield pos="2" name="UNK02"/>
			<bitfield pos="3" name="UNK03"/>
			<bitfield pos="4" name="UNK04"/>
			<bitfield pos="5" name="EMITTED_PRIMITIVES"/><!-- not tested -->
			<bitfield pos="6" name="UNK06"/><!-- different GENERATED_PRIMITIVES ? -->
			<bitfield pos="7" name="UNK07"/>
			<bitfield pos="8" name="UNK08"/>
			<bitfield pos="9" name="UNK09"/>
			<bitfield pos="10" name="GENERATED_PRIMITIVES"/><!-- for query 09005002 -->
			<bitfield pos="11" name="UNK0B"/>
			<bitfield pos="12" name="UNK0C"/>
			<bitfield pos="13" name="UNK0D"/>
			<bitfield pos="14" name="UNK0E"/>
			<bitfield pos="15" name="UNK0F"/>
		</reg32>
		<reg32 offset="0x0d6c" name="UNK0D6C" type="xy16" length="2"/>
		<reg32 offset="0x0d74" name="VERTEX_BUFFER_FIRST"/>
		<reg32 offset="0x0d78" name="VERTEX_BUFFER_COUNT"/>
		<reg32 offset="0x0d7c" name="DEPTH_CLIP_NEGATIVE_Z" type="boolean">
                        <doc>This determines where depth values are clipped before the
                        viewport transformation, whereas DEPTH_RANGE applies after it.
                        If true, the permitted depth range is [0,1], otherwise [-1,1].
                        </doc>
		</reg32>
		<reg32 offset="0x0d80" name="CLEAR_COLOR" length="4" type="float"/>
		<reg32 offset="0x0d90" name="CLEAR_DEPTH" type="float"/>
		<reg32 offset="0x0d94" name="UNK0D94">
			<doc>0-1, shared with dijkstra</doc>
		</reg32>
		<reg32 offset="0x0d98" name="UNK0D98" type="boolean" variants="GK104_3D-"/>
		<reg32 offset="0x0d9c" name="UNK0D9C">
			<doc>0-1</doc>
		</reg32>
		<reg32 offset="0x0da0" name="CLEAR_STENCIL"/>
		<reg32 offset="0x0da4" name="UNK0DA4" variants="GK104_3D-">
			<bitfield pos="0" name="UNK0"/>
			<bitfield pos="4" name="UNK4"/>
			<bitfield pos="12" name="UNK12"/>
		</reg32>
		<reg32 offset="0x0dac" name="POLYGON_MODE_FRONT" type="gl_polygon_mode"/>
		<reg32 offset="0x0db0" name="POLYGON_MODE_BACK" type="gl_polygon_mode"/>
		<reg32 offset="0x0db4" name="POLYGON_SMOOTH_ENABLE" type="boolean"/>
		<reg32 offset="0x0db8" name="UNK0DB8" type="boolean"/>
		<reg32 offset="0x0dbc" name="ZCULL_UNK0DBC">
			<bitfield pos="0" name="UNK0"/>
			<bitfield low="16" high="17" name="UNK16"/>
		</reg32>
		<reg32 offset="0x0dc0" name="POLYGON_OFFSET_POINT_ENABLE" type="boolean"/>
		<reg32 offset="0x0dc4" name="POLYGON_OFFSET_LINE_ENABLE" type="boolean"/>
		<reg32 offset="0x0dc8" name="POLYGON_OFFSET_FILL_ENABLE" type="boolean"/>
		<reg32 offset="0x0dcc" name="PATCH_VERTICES" type="uint"/>
		<reg32 offset="0x0dd8" name="ZCULL_UNK0DD8">
			<bitfield low="0" high="2" name="UNK0"/>
			<bitfield low="8" high="9" name="UNK8"/>
			<bitfield low="16" high="31" name="UNK16"/>
		</reg32>
		<reg32 offset="0x0ddc" name="UNK0DDC" variants="GF100_3D:GK104_3D">
			<doc>0-2, no icmd</doc>
		</reg32>
		<reg32 offset="0x0de4" name="WATCHDOG_TIMER" type="uint"/> <!-- extended range wrt g80? -->
		<reg32 offset="0x0de8" name="PRIM_RESTART_WITH_DRAW_ARRAYS" type="boolean">
			<doc>Whether primitive restart applies to drawing via VERTEX_BUFFER_FIRST,COUNT.</doc>
		</reg32>
		<reg32 offset="0x0dec" name="UNK0DEC" type="boolean"/>
		<reg32 offset="0x0df4" name="UNK0DF4" variants="GF100_3D:GK104_3D">
			<doc>0xffffff, no icmd</doc>
		</reg32>
		<!-- XXX: the following two seem to have extra bits... -->
		<reg32 offset="0x0df8" name="WINDOW_OFFSET_X" type="int"/><!-- 16 bit, signed !-->
		<reg32 offset="0x0dfc" name="WINDOW_OFFSET_Y" type="int"/><!-- default 0, or height if 13ac = 1 !-->
		<reg32 offset="0x0e00" name="SCISSOR_ENABLE" length="16" stride="16" type="boolean"/>
		<reg32 offset="0x0e04" name="SCISSOR_HORIZ" length="16" stride="16">
			<bitfield name="MIN" high="15" low="0" type="uint"/>
			<bitfield name="MAX" high="31" low="16" type="uint"/>
		</reg32>
		<reg32 offset="0x0e08" name="SCISSOR_VERT" length="16" stride="16"><!-- affected by 13ac !-->
			<bitfield name="MIN" high="15" low="0" type="uint"/>
			<bitfield name="MAX" high="31" low="16" type="uint"/>
		</reg32>
		<reg32 offset="0x0f00" name="UNK0F00" length="4">
			<doc>Vertex subm?</doc>
		</reg32>
		<reg32 offset="0x0f1c" name="POST_DEPTH_COVERAGE" type="boolean" variants="GM204_3D-"/>
		<reg32 offset="0x0f20" name="UNK0F20" length="5" type="boolean" variants="GK104_3D-"/>
		<reg32 offset="0x0f54" name="STENCIL_BACK_FUNC_REF"/>
		<reg32 offset="0x0f58" name="STENCIL_BACK_MASK"/>
		<reg32 offset="0x0f5c" name="STENCIL_BACK_FUNC_MASK"/>
		<reg32 offset="0x0f84" name="VERTEX_RUNOUT_ADDRESS_HIGH"/>
		<reg32 offset="0x0f88" name="VERTEX_RUNOUT_ADDRESS_LOW"/>
		<reg32 offset="0x0f8c" name="UNK0F8C" type="boolean"/>
		<reg32 offset="0x0f90" name="COLOR_MASK_COMMON" type="boolean"/>
		<reg32 offset="0x0f98" name="UNK0F98">
			<doc>XXX scan pending</doc>
		</reg32>
		<reg32 offset="0x0f9c" name="DEPTH_BOUNDS" length="2" type="float"/>
		<reg32 offset="0x0fac" name="RT_SEPARATE_FRAG_DATA" type="boolean">
			<doc>If disabled, all RTs receive colour output 0,
			regardless of RT_CONTROL or the bit in the FP header.
			XXX: what else ?</doc>
		</reg32>
		<reg32 offset="0x0fb0" name="UNK0FB0" type="boolean"/>
		<reg32 offset="0x0fbc" name="MSAA_MASK" length="4"/>
		<reg32 offset="0x0fcc" name="CLIPID_ADDRESS_HIGH"/>
		<reg32 offset="0x0fd0" name="CLIPID_ADDRESS_LOW"/>
		<reg32 offset="0x0fdc" name="UNK0FDC" type="boolean"/>
		<reg32 offset="0x0fe0" name="ZETA_ADDRESS_HIGH"/>
		<reg32 offset="0x0fe4" name="ZETA_ADDRESS_LOW"/>
		<reg32 offset="0x0fe8" name="ZETA_FORMAT" type="G80_ZETA_FORMAT"/>
		<reg32 offset="0x0fec" name="ZETA_BLOCK_DIMENSIONS" type="block_dimensions"/>
		<reg32 offset="0x0ff0" name="ZETA_LAYER_STRIDE" type="int"/><!-- in dwords -->
		<reg32 offset="0x0ff4" name="SCREEN_SCISSOR_HORIZ">
			<bitfield name="W" high="31" low="16" type="int"/>
			<bitfield name="X" high="15" low="0" type="int"/>
		</reg32>
		<reg32 offset="0x0ff8" name="SCREEN_SCISSOR_VERT">
			<bitfield name="H" high="31" low="16" type="int"/>
			<bitfield name="Y" high="15" low="0" type="int"/>
		</reg32>
		<reg32 offset="0x1000" name="UNK1000">
			<doc>0, 1, 0x10, 0x11, 0x20, 0x21</doc>
		</reg32>
		<reg32 offset="0x1008" name="UNK1008">
			<doc>2-0x10</doc>
		</reg32>
		<reg32 offset="0x100c" name="UNK100C">
			<doc>1-0x400</doc>
		</reg32>
		<reg32 offset="0x1010" name="UNK1010">
			<doc>1-0xffff</doc>
		</reg32>
		<reg32 offset="0x1018" name="UNK1018">
			<doc>1-0x3ff</doc>
		</reg32>
		<reg32 offset="0x101c" name="UNK101C">
			<doc>0-1</doc>
		</reg32>
		<reg32 offset="0x1020" name="UNK1020">
			<doc>1-0x3ff</doc>
		</reg32>
		<reg32 offset="0x1024" name="UNK1024">
			<doc>0-1</doc>
		</reg32>
		<reg32 offset="0x1040" name="UNK1040" length="16"/>
		<reg32 offset="0x10cc" name="UNK10CC">
			<bitfield low="0" high="7" name="UNK0"/>
			<bitfield low="16" high="23" name="UNK16"/>
		</reg32>
		<reg32 offset="0x10e0" name="UNK10E0">
			<bitfield low="0" high="7" name="UNK0"/>
			<bitfield low="16" high="23" name="UNK16"/>
		</reg32>
		<reg32 offset="0x10e4" name="UNK10E4">
			<bitfield low="0" high="7" name="UNK0"/>
			<bitfield low="16" high="23" name="UNK16"/>
		</reg32>
		<reg32 offset="0x10e8" name="UNK10E8">
			<bitfield low="0" high="5" name="UNK0"/>
			<bitfield low="16" high="21" name="UNK16"/>
		</reg32>
		<reg32 offset="0x10ec" name="UNK10EC">
			<bitfield low="0" high="7" name="UNK0"/>
			<bitfield low="16" high="23" name="UNK16"/>
		</reg32>
		<reg32 offset="0x10f0" name="UNK10F0">
			<bitfield low="0" high="7" name="UNK0"/>
			<bitfield low="16" high="23" name="UNK16"/>
		</reg32>
		<reg32 offset="0x10f4" name="UNK10F4">
			<doc>Shared with dijkstra</doc>
			<bitfield pos="0" name="UNK0" variants="GF100_3D:GK104_3D"/>
			<bitfield pos="4" name="UNK4" variants="GF100_3D:GK104_3D"/>
			<bitfield pos="8" name="UNK8"/>
		</reg32>
		<reg32 offset="0x10f8" name="CLEAR_FLAGS">
			<bitfield pos="0" name="STENCIL_MASK"/>
			<bitfield pos="4" name="UNK4"/>
			<bitfield pos="8" name="SCISSOR"/>
			<bitfield pos="12" name="VIEWPORT"/>
			<doc>Selects which states affect CLEAR_BUFFERS.
			CLIP_RECT, CLIPID and SCREEN_SCISSOR always affect it.</doc>
		</reg32>
		<reg32 offset="0x10fc" name="UNK10FC">
			<doc>0, 0x10, 0x20</doc>
		</reg32>
		<reg32 offset="0x110c" name="UNK110C">
			<doc>No icmd</doc>
		</reg32>
		<reg32 offset="0x1110" name="UNK1110" type="boolean"/>
		<reg32 offset="0x1114" name="WRCACHE_FLUSH"/> <!-- XXX: check -->
		<reg32 offset="0x1118" name="VERTEX_ID_BASE" type="uint">
			<doc>Seems broken: when used in VERTEX_DATA mode, the value is always that
			for the last vertex of a primitive.</doc>
		</reg32>
		<reg32 offset="0x1120" name="VTX_ATTR_MASK_UNK0DD0_ALT" length="4"/>
		<reg32 offset="0x113c" name="FILL_RECTANGLE" variants="GM204_3D-">
			<bitfield pos="1" name="ENABLE"/>
		</reg32>
		<reg32 offset="0x1140" name="UNK1140">
			<doc>0 or 0x10.</doc>
		</reg32>
		<reg32 offset="0x1144" name="UNK1144" type="boolean"/>
		<reg32 offset="0x1148" name="CONSERVATIVE_RASTER" type="boolean" variants="GM204_3D-"/>
		<reg32 offset="0x114c" name="VTX_ATTR_DEFINE">
			<bitfield name="ATTR" low="0" high="7" />
			<bitfield name="COMP" low="8" high="10" type="uint" min="1" max="4"/>
			<bitfield name="SIZE" low="12" high="14">
				<value value="1" name="8"/>
				<value value="2" name="16"/>
				<value value="4" name="32"/>
			</bitfield>
			<bitfield name="TYPE" low="16" high="18" type="gf100_vtxelt_type"/>
		</reg32>
		<reg32 offset="0x1150" name="VTX_ATTR_DATA" length="4"/>
		<reg32 offset="0x1160" name="VERTEX_ATTRIB_FORMAT" length="32">
			<bitfield name="BUFFER" high="4" low="0" type="int"/>
			<bitfield name="CONST" pos="6" type="boolean"/>
			<bitfield name="OFFSET" high="20" low="7" type="int"/>
			<bitfield name="SIZE" high="26" low="21" type="gf100_vtxelt_size"/>
			<bitfield name="TYPE" high="29" low="27" type="gf100_vtxelt_type"/>
			<bitfield name="BGRA" pos="31" type="boolean"/>
		</reg32>
		<reg32 offset="0x11e0" name="SAMPLE_LOCATIONS" length="4" variants="GM204_3D-">
			<bitfield name="X0" high="3" low="0"/>
			<bitfield name="Y0" high="7" low="4"/>
			<bitfield name="X1" high="11" low="8"/>
			<bitfield name="Y1" high="15" low="12"/>
			<bitfield name="X2" high="19" low="16"/>
			<bitfield name="Y2" high="23" low="20"/>
			<bitfield name="X3" high="27" low="24"/>
			<bitfield name="Y3" high="31" low="28"/>
		</reg32>
		<reg32 offset="0x1214" name="UNK1214"/>
		<reg32 offset="0x1218" name="UNK1218"/>
		<reg32 offset="0x121c" name="RT_CONTROL">
			<bitfield name="COUNT" high="3" low="0" type="uint"/>
			<bitfield name="MAP0" high="6" low="4" type="uint"/>
			<bitfield name="MAP1" high="9" low="7" type="uint"/>
			<bitfield name="MAP2" high="12" low="10" type="uint"/>
			<bitfield name="MAP3" high="15" low="13" type="uint"/>
			<bitfield name="MAP4" high="18" low="16" type="uint"/>
			<bitfield name="MAP5" high="21" low="19" type="uint"/>
			<bitfield name="MAP6" high="24" low="22" type="uint"/>
			<bitfield name="MAP7" high="27" low="25" type="uint"/>
		</reg32>
		<reg32 offset="0x1220" name="UNK1220">
			<doc>0-0xc</doc>
		</reg32>
		<reg32 offset="0x1228" name="ZETA_HORIZ" type="int"/>
		<reg32 offset="0x122c" name="ZETA_VERT" type="int"/>
		<reg32 offset="0x1230" name="ZETA_ARRAY_MODE">
			<bitfield name="LAYERS" high="15" low="0" type="int"/>
			<bitfield name="UNK" pos="16" type="boolean"/>
		</reg32>
		<reg32 offset="0x1234" name="LINKED_TSC" type="boolean"/>
		<reg32 offset="0x123c" name="DRAW_TFB_BYTES"/>
		<reg32 offset="0x1284" name="UNK1284">
			<doc>scan pending</doc>
		</reg32>
		<reg32 offset="0x1288" name="UNK1288_TIC_FLUSH"/>
		<reg32 offset="0x1290" name="UNK1290">
			<doc>0, 0x10, 0x20</doc>
		</reg32>
		<reg32 offset="0x12a4" name="UNK12A4"/>
		<reg32 offset="0x12ac" name="UNK12AC" type="boolean">
			<doc>Shared with dijkstra.</doc>
		</reg32>
		<reg32 offset="0x12c8" name="UNK12C8">
			<doc>bits 0x1fffff, low 3 bits must be 0, 1, 4, 5, 6, 7.</doc>
		</reg32>
		<reg32 offset="0x12cc" name="DEPTH_TEST_ENABLE" type="boolean"/>
		<reg32 offset="0x12d0" name="D3D_FILL_MODE">
			<value value="1" name="POINT"/>
			<value value="2" name="WIREFRAME"/>
			<value value="3" name="SOLID"/>
		</reg32>
		<reg32 offset="0x12d4" name="SHADE_MODEL" type="gl_shade_model"/>
		<reg32 offset="0x12d8" name="UNK12D8" length="2">
			<doc>0, 0x10, 0x20</doc>
		</reg32>
		<reg32 offset="0x12e0" name="UNK12E0">
			<doc>0-2</doc>
		</reg32>
		<reg32 offset="0x12e4" name="BLEND_INDEPENDENT" type="boolean"/>
		<reg32 offset="0x12e8" name="DEPTH_WRITE_ENABLE" type="boolean"/>
		<reg32 offset="0x12ec" name="ALPHA_TEST_ENABLE" type="boolean"/>
		<reg32 offset="0x1300" name="VB_ELEMENT_U8_SETUP">
			<bitfield name="OFFSET" high="31" low="30"/>
			<bitfield name="COUNT" high="29" low="0" type="int"/> <!-- probably smaller range -->
		</reg32>
		<reg32 offset="0x1304" name="VB_ELEMENT_U8">
			<bitfield name="I0" high="7" low="0" type="int"/>
			<bitfield name="I1" high="15" low="8" type="int"/>
			<bitfield name="I2" high="23" low="16" type="int"/>
			<bitfield name="I3" high="31" low="24" type="int"/>
		</reg32>
		<reg32 offset="0x1308" name="D3D_CULL_MODE">
			<value value="1" name="NONE"/>
			<value value="2" name="FRONT"/>
			<value value="3" name="BACK"/>
		</reg32>
		<reg32 offset="0x130c" name="DEPTH_TEST_FUNC" type="gl_comparison_op"/>
		<reg32 offset="0x1310" name="ALPHA_TEST_REF" type="float"/>
		<reg32 offset="0x1314" name="ALPHA_TEST_FUNC" type="gl_comparison_op"/>
		<reg32 offset="0x1318" name="DRAW_TFB_STRIDE" min="1" max="0xfff"/>
		<reg32 offset="0x131c" name="BLEND_COLOR" length="4" type="float"/>
		<reg32 offset="0x1330" name="TSC_FLUSH">
			<bitfield pos="0" name="SPECIFIC"/>
			<bitfield low="4" high="25" name="ENTRY"/>
		</reg32>
		<reg32 offset="0x1334" name="TIC_FLUSH">
			<bitfield pos="0" name="SPECIFIC"/>
			<bitfield low="4" high="25" name="ENTRY"/>
		</reg32>
		<reg32 offset="0x1338" name="TEX_CACHE_CTL">
			<bitfield low="0" high="2" name="UNK0" variants="GF100_3D:GK104_3D"/>
			<bitfield pos="0" name="UNK0" variants="GK104_3D-"/>
			<bitfield low="4" high="25" name="ENTRY"/>
		</reg32>
		<reg32 offset="0x133c" name="BLEND_SEPARATE_ALPHA" type="boolean"/>
		<reg32 offset="0x1340" name="BLEND_EQUATION_RGB" type="gl_blend_equation"/>
		<reg32 offset="0x1344" name="BLEND_FUNC_SRC_RGB" type="G80_BLEND_FACTOR"/>
		<reg32 offset="0x1348" name="BLEND_FUNC_DST_RGB" type="G80_BLEND_FACTOR"/>
		<reg32 offset="0x134c" name="BLEND_EQUATION_ALPHA" type="gl_blend_equation"/>
		<reg32 offset="0x1350" name="BLEND_FUNC_SRC_ALPHA" type="G80_BLEND_FACTOR"/>
		<reg32 offset="0x1354" name="UNK1354" type="boolean">
			<doc>Shared with dijkstra.</doc>
		</reg32>
		<reg32 offset="0x1358" name="BLEND_FUNC_DST_ALPHA" type="G80_BLEND_FACTOR"/>
		<reg32 offset="0x135c" name="BLEND_ENABLE_COMMON" type="boolean"/>
		<reg32 offset="0x1360" name="BLEND_ENABLE" length="8" type="boolean"/>
		<reg32 offset="0x1380" name="STENCIL_ENABLE" type="boolean"/>
		<reg32 offset="0x1384" name="STENCIL_FRONT_OP_FAIL" type="gl_stencil_op"/>
		<reg32 offset="0x1388" name="STENCIL_FRONT_OP_ZFAIL" type="gl_stencil_op"/>
		<reg32 offset="0x138c" name="STENCIL_FRONT_OP_ZPASS" type="gl_stencil_op"/>
		<reg32 offset="0x1390" name="STENCIL_FRONT_FUNC_FUNC" type="gl_comparison_op"/>
		<reg32 offset="0x1394" name="STENCIL_FRONT_FUNC_REF"/>
		<reg32 offset="0x1398" name="STENCIL_FRONT_FUNC_MASK"/>
		<reg32 offset="0x139c" name="STENCIL_FRONT_MASK"/>
		<reg32 offset="0x13a4" name="DRAW_TFB_BASE"/>
		<reg32 offset="0x13a8" name="FRAG_COLOR_CLAMP_EN">
			<bitfield pos="0" name="0"/>
			<bitfield pos="4" name="1"/>
			<bitfield pos="8" name="2"/>
			<bitfield pos="12" name="3"/>
			<bitfield pos="16" name="4"/>
			<bitfield pos="20" name="5"/>
			<bitfield pos="24" name="6"/>
			<bitfield pos="28" name="7"/>
		</reg32>
		<reg32 offset="0x13ac" name="SCREEN_Y_CONTROL">
			<bitfield pos="0" name="Y_NEGATE"/>
			<bitfield pos="4" name="TRIANGLE_RAST_FLIP"/>
		</reg32>
		<reg32 offset="0x13b0" name="LINE_WIDTH_SMOOTH" type="float"/>
		<reg32 offset="0x13b4" name="LINE_WIDTH_ALIASED" type="float"/>
		<reg32 offset="0x1418" name="UNK1418" type="boolean">
			<doc>Related to LINE_WIDTH?</doc>
		</reg32>
		<reg32 offset="0x1420" name="UNK1420">
			<doc>0-0xff</doc>
		</reg32>
		<reg32 offset="0x1424" name="UNK1424_TSC_FLUSH"/>
		<reg32 offset="0x1428" name="UNK1428_TIC_FLUSH"/>
		<reg32 offset="0x142c" name="VERTEX_ARRAY_FLUSH"/>
		<reg32 offset="0x1430" name="UNK1430" variants="GF100_3D:GK104_3D">
			<doc>Goes to ROP. Both set when NOT MS/CS.</doc>
			<bitfield pos="4" name="UNK0"/>
			<bitfield pos="8" name="UNK1"/>
		</reg32>
		<reg32 offset="0x1434" name="VB_ELEMENT_BASE" type="int"/>
		<reg32 offset="0x1438" name="VB_INSTANCE_BASE" type="int"/>
		<reg32 offset="0x143c" name="UNK143C_CLEAR_FLAGS" variants="GF100_3D:GK104_3D">
			<doc>XXX: wtf?</doc>
			<bitfield pos="0" name="STENCIL_MASK"/>
			<bitfield pos="4" name="CLEAR_RECT">
				<value value="0" name="SCISSOR"/>
				<value value="0" name="VIEWPORT"/>
			</bitfield>
		</reg32>
		<reg32 offset="0x1444" name="UNK1444">
			<doc>0-0xff</doc>
		</reg32>
		<reg32 offset="0x1448" name="UNK1448">
			<doc>0x1000-aligned</doc>
		</reg32>
		<reg32 offset="0x144c" name="UNK144C">
			<doc>0x80-aligned</doc>
		</reg32>
		<reg32 offset="0x1450" name="UNK1450">
			<doc>scan pending</doc>
		</reg32>
		<reg32 offset="0x1454" name="UNK1454">
			<doc>scan pending</doc>
		</reg32>
		<reg32 offset="0x1464" name="UNK1464">
			<doc>Only 0</doc>
		</reg32>
		<reg32 offset="0x1500" name="UNK1500">
			<doc>Only 0</doc>
		</reg32>
		<reg32 offset="0x1504" name="CLIPID_HEIGHT" type="uint" max="0x4000"/>
		<reg32 offset="0x1508" name="CLIPID_FILL_RECT_HORIZ">
			<bitfield low="0" high="15" name="LOW"/>
			<bitfield low="16" high="31" name="HIGH"/>
		</reg32>
		<reg32 offset="0x150c" name="CLIPID_FILL_RECT_VERT">
			<bitfield low="0" high="15" name="LOW"/>
			<bitfield low="16" high="31" name="HIGH"/>
		</reg32>
		<reg32 offset="0x1510" name="CLIP_DISTANCE_ENABLE">
			<doc>See also CLIP_DISTANCE_MODE.</doc>
			<bitfield name="0" pos="0" type="boolean"/>
			<bitfield name="1" pos="1" type="boolean"/>
			<bitfield name="2" pos="2" type="boolean"/>
			<bitfield name="3" pos="3" type="boolean"/>
			<bitfield name="4" pos="4" type="boolean"/>
			<bitfield name="5" pos="5" type="boolean"/>
			<bitfield name="6" pos="6" type="boolean"/>
			<bitfield name="7" pos="7" type="boolean"/>
		</reg32>
		<reg32 offset="0x1514" name="SAMPLECNT_ENABLE"/>
		<reg32 offset="0x1518" name="POINT_SIZE" type="float"/>
		<reg32 offset="0x151c" name="ZCULL_STATCTRS_ENABLE"/>
		<reg32 offset="0x1520" name="POINT_SPRITE_ENABLE" type="boolean"/>
		<reg32 offset="0x1530" name="COUNTER_RESET">
			<value value="0x01" name="SAMPLECNT"/>
			<value value="0x02" name="UNK02"/>
			<value value="0x03" name="UNK03"/>
			<value value="0x04" name="UNK04"/>
			<!-- gap -->
			<value value="0x10" name="EMITTED_PRIMITIVES"/><!-- not tested -->
			<value value="0x11" name="UNK11"/><!-- different GENERATED_PRIMITIVES ? -->
			<value value="0x12" name="UNK12"/>
			<value value="0x13" name="UNK13"/>
			<!-- gap -->
			<value value="0x15" name="UNK15"/>
			<value value="0x16" name="UNK16"/>
			<value value="0x17" name="UNK17"/>
			<value value="0x18" name="UNK18"/>
			<!-- gap -->
			<value value="0x1a" name="UNK1A"/>
			<value value="0x1b" name="UNK1B"/>
			<value value="0x1c" name="UNK1C"/>
			<value value="0x1d" name="UNK1D"/>
			<value value="0x1e" name="UNK1E"/>
			<value value="0x1f" name="GENERATED_PRIMITIVES"/><!-- for query 09005002 -->
		</reg32>
		<reg32 offset="0x1534" name="MULTISAMPLE_ENABLE" type="boolean"/>
		<reg32 offset="0x1538" name="ZETA_ENABLE" type="boolean"/>
		<reg32 offset="0x153c" name="MULTISAMPLE_CTRL">
			<bitfield name="ALPHA_TO_COVERAGE" pos="0" type="boolean"/>
			<bitfield name="ALPHA_TO_ONE" pos="4" type="boolean"/>
		</reg32>
		<reg32 offset="0x1550" name="COND_ADDRESS_HIGH"/>
		<reg32 offset="0x1554" name="COND_ADDRESS_LOW"/>
		<reg32 offset="0x1558" name="COND_MODE" type="g80_cond_mode"/>
		<reg32 offset="0x155c" name="TSC_ADDRESS_HIGH"/>
		<reg32 offset="0x1560" name="TSC_ADDRESS_LOW" align="0x20"/>
		<reg32 offset="0x1564" name="TSC_LIMIT" type="uint" max="0x1fff">
			<doc>number of TSC entries - 1</doc>
		</reg32>
		<reg32 offset="0x156c" name="POLYGON_OFFSET_FACTOR" type="float"/>
		<reg32 offset="0x1570" name="LINE_SMOOTH_ENABLE" type="boolean"/>
		<reg32 offset="0x1574" name="TIC_ADDRESS_HIGH"/>
		<reg32 offset="0x1578" name="TIC_ADDRESS_LOW"/>
		<reg32 offset="0x157c" name="TIC_LIMIT" type="uint">
			<doc>number of entries - 1</doc>
		</reg32>
		<reg32 offset="0x1590" name="ZCULL_REGION">
			<doc>0x3f means none.</doc>
		</reg32>
		<reg32 offset="0x1594" name="STENCIL_TWO_SIDE_ENABLE" type="boolean"/>
		<reg32 offset="0x1598" name="STENCIL_BACK_OP_FAIL" type="gl_stencil_op"/>
		<reg32 offset="0x159c" name="STENCIL_BACK_OP_ZFAIL" type="gl_stencil_op"/>
		<reg32 offset="0x15a0" name="STENCIL_BACK_OP_ZPASS" type="gl_stencil_op"/>
		<reg32 offset="0x15a4" name="STENCIL_BACK_FUNC_FUNC" type="gl_comparison_op"/>
		<reg32 offset="0x15b4" name="CSAA_ENABLE" type="boolean"/>
		<reg32 offset="0x15b8" name="FRAMEBUFFER_SRGB" type="boolean"/>
		<reg32 offset="0x15bc" name="POLYGON_OFFSET_UNITS" type="float"/>
		<reg32 offset="0x15c8" name="UNK15C8">
			<doc>0-3.</doc>
		</reg32>
		<reg32 offset="0x15cc" name="LAYER">
			<bitfield name="IDX" high="15" low="0">
				<doc>The layer to render into, when not selected by GP.</doc>
			</bitfield>
			<bitfield name="USE_GP" pos="16" type="boolean"/>
		</reg32>
		<reg32 offset="0x15d0" name="MULTISAMPLE_MODE" type="g80_msaa_mode"/>
		<reg32 offset="0x15e4" name="EDGEFLAG" type="boolean"/>
		<reg32 offset="0x15e8" name="VB_ELEMENT_U32" type="int"/>
		<reg32 offset="0x15ec" name="VB_ELEMENT_U16_SETUP">
			<bitfield name="OFFSET" high="31" low="30"/>
			<bitfield name="COUNT" high="29" low="0" type="int"/> <!-- probably smaller range -->
		</reg32>
		<reg32 offset="0x15f0" name="VB_ELEMENT_U16">
			<bitfield name="I0" high="15" low="0" type="int"/>
			<bitfield name="I1" high="31" low="16" type="int"/>
		</reg32>
		<reg32 offset="0x15f4" name="VERTEX_BASE_HIGH"/>
		<reg32 offset="0x15f8" name="VERTEX_BASE_LOW"/>
		<reg32 offset="0x15fc" name="ZCULL_WINDOW_OFFSET_X"/>
		<reg32 offset="0x1600" name="ZCULL_WINDOW_OFFSET_Y"/>
		<reg32 offset="0x1604" name="POINT_COORD_REPLACE">
			<bitfield low="0" high="1" name="UNK0">
				<value value="0" name="UNK0"/>
				<value value="1" name="UNK1"/>
				<value value="2" name="UNK2"/>
			</bitfield>
			<bitfield pos="2" name="COORD_ORIGIN">
				<value value="0" name="LOWER_LEFT"/>
				<value value="1" name="UPPER_LEFT"/>
			</bitfield>
			<bitfield high="12" low="3" name="ENABLE"/><!-- applies to v[0x300] and up -->
		</reg32>
		<reg32 offset="0x1608" name="CODE_ADDRESS_HIGH"/>
		<reg32 offset="0x160c" name="CODE_ADDRESS_LOW"/>
		<reg32 offset="0x1610" name="UNK1610">
			<doc>0-0x3f</doc>
		</reg32>
		<reg32 offset="0x1614" name="VERTEX_END_GL">
			<bitfield pos="0" name="UNK0"/>
		</reg32>
		<reg32 offset="0x1618" name="VERTEX_BEGIN_GL">
			<bitfield name="PRIMITIVE" high="15" low="0">
				<value value="0x0000" name="POINTS"/>
				<value value="0x0001" name="LINES"/>
				<value value="0x0002" name="LINE_LOOP"/>
				<value value="0x0003" name="LINE_STRIP"/>
				<value value="0x0004" name="TRIANGLES"/>
				<value value="0x0005" name="TRIANGLE_STRIP"/>
				<value value="0x0006" name="TRIANGLE_FAN"/>
				<value value="0x0007" name="QUADS"/>
				<value value="0x0008" name="QUAD_STRIP"/>
				<value value="0x0009" name="POLYGON"/>
				<value value="0x000a" name="LINES_ADJACENCY"/>
				<value value="0x000b" name="LINE_STRIP_ADJACENCY"/>
				<value value="0x000c" name="TRIANGLES_ADJACENCY"/>
				<value value="0x000d" name="TRIANGLE_STRIP_ADJACENCY"/>
				<value value="0x000e" name="PATCHES"/>
			</bitfield>
			<bitfield pos="24" name="UNK24"/>
			<bitfield name="INSTANCE_NEXT" pos="26">
				<doc>If set, increment INSTANCE_ID (before processing new vertices).</doc>
			</bitfield>
			<bitfield name="INSTANCE_CONT" pos="27">
				<doc>If set, keep current INSTANCE_ID, otherwise reset it to 0.
				If set together with INSTANCE_NEXT, an INVALID_ENUM error is generated.
				</doc>
			</bitfield>
			<bitfield pos="29" name="UNK29"/>
			<bitfield pos="30" name="UNK30"/>
		</reg32>
		<reg32 offset="0x161c" name="VERTEX_ID_REPLACE">
			<bitfield pos="0" name="ENABLE" type="boolean"/>
			<bitfield low="4" high="11" name="SOURCE" type="uint"/>
			<doc>Take value from VP input a[SOURCE * 4] and stuff it into a[0x2fc].</doc>
		</reg32>
		<reg32 offset="0x1620" name="UNK1620"/>
		<reg32 offset="0x1624" name="UNK1624"/>
		<reg32 offset="0x162c" name="UNK162C">
			<doc>0-3</doc>
		</reg32>
		<reg32 offset="0x1634" name="UNK1634" variants="GF100_3D:GK104_3D">
			<doc>0xffffff</doc>
		</reg32>
		<reg32 offset="0x1638" name="UNK1638">
			<doc>scan pending</doc>
		</reg32>
		<reg32 offset="0x163c" name="UNK163C" type="boolean"/>
		<reg32 offset="0x1640" name="VERTEX_DATA"/>
		<reg32 offset="0x1644" name="PRIM_RESTART_ENABLE" type="boolean"/>
		<reg32 offset="0x1648" name="PRIM_RESTART_INDEX" type="int"/>
		<reg32 offset="0x164c" name="VERTEX_ID_GEN_MODE">
			<bitfield name="DRAW_ARRAYS_ADD_START" pos="12" type="boolean">
				<doc>If true, for non-indexed drawing, VertexID starts with
				the value of VERTEX_BUFFER_FIRST.
				If false, it will always range from 0 to VERTEX_BUFFER_COUNT.</doc>
			</bitfield>
		</reg32>
		<reg32 offset="0x1658" name="POINT_SMOOTH_ENABLE" type="boolean"/>
		<reg32 offset="0x165c" name="POINT_RASTER_RULES">
			<value value="0" name="OGL"/>
			<value value="1" name="D3D"/>
		</reg32>
		<reg32 offset="0x1664" name="TEX_MISC" variants="GF100_3D:GK104_3D">
			<bitfield pos="1" name="UNK"/>
			<bitfield pos="2" name="SEAMLESS_CUBE_MAP"/>
		</reg32>
		<reg32 offset="0x1668" name="LINE_SMOOTH_BLUR">
			<!-- wtf? filtering strength or what... -->
			<value value="0" name="LOW"/>
			<value value="1" name="MEDIUM"/>
			<value value="2" name="HIGH"/>
		</reg32>
		<reg32 offset="0x166c" name="LINE_STIPPLE_ENABLE" type="boolean"/>
		<reg32 offset="0x1670" name="COVERAGE_LUT" length="4">
			<bitfield low="0" high="7" name="0"/>
			<bitfield low="8" high="15" name="1"/>
			<bitfield low="16" high="23" name="2"/>
			<bitfield low="24" high="31" name="3"/>
		</reg32>
		<reg32 offset="0x1680" name="LINE_STIPPLE_PATTERN"/>
		<reg32 offset="0x1684" name="PROVOKING_VERTEX_LAST" type="boolean"/>
		<reg32 offset="0x1688" name="VERTEX_TWO_SIDE_ENABLE" type="boolean"/>
		<reg32 offset="0x168c" name="POLYGON_STIPPLE_ENABLE" type="boolean"/>
		<reg32 offset="0x1690" name="UNK1690" variants="GF100_3D:GK104_3D">
			<bitfield pos="0" name="ALWAYS_DERIV">
				<doc>Always use auto LOD selection by implicit derivatives,
				even in program types other than FP.</doc>
			</bitfield>
			<bitfield pos="16" name="UNK16"/>
		</reg32>
		<reg32 offset="0x1690" name="UNK1690" variants="GK104_3D-"/> <!-- 7 -->
		<reg32 offset="0x169c" name="UNK169C" type="boolean"/>
		<reg32 offset="0x16a0" name="UNK16A0"/>
		<reg32 offset="0x16a4" name="UNK16A4">
			<doc>Accepts at least 0x10003, scan pending</doc>
		</reg32>
		<reg32 offset="0x16a8" name="UNK16A8"/>
		<reg32 offset="0x16b4" name="UNK16B4">
			<bitfield pos="0" name="UNK0"/>
			<bitfield pos="1" name="UNK1"/>
		</reg32>
		<reg32 offset="0x1700" name="POLYGON_STIPPLE_PATTERN" length="32"/>
		<reg32 offset="0x1790" name="UNK1790">
			<doc>Accepts at least 0x10002, scan pending</doc>
		</reg32>
		<reg32 offset="0x1794" name="UNK1794"/>
		<reg32 offset="0x179c" name="ZETA_BASE_LAYER"/>
		<reg32 offset="0x17bc" name="VERTEX_QUARANTINE_ADDRESS_HIGH"/>
		<reg32 offset="0x17c0" name="VERTEX_QUARANTINE_ADDRESS_LOW"/>
		<reg32 offset="0x17c4" name="VERTEX_QUARANTINE_SIZE">
			<value value="1" name="16K"/>
			<value value="2" name="32K"/>
			<value value="3" name="64K"/>
			<doc>Stuff written to VERTEX_DATA gets put here. Maye more at higher offsets ?
			It looks like this should be 1 MiB in size.</doc>
		</reg32>
		<reg32 offset="0x17c8" name="INDEX_ARRAY_START_HIGH"/><!-- proven changeable also between BEGIN/END -->
		<reg32 offset="0x17cc" name="INDEX_ARRAY_START_LOW"/>
		<reg32 offset="0x17d0" name="INDEX_ARRAY_LIMIT_HIGH"/>
		<reg32 offset="0x17d4" name="INDEX_ARRAY_LIMIT_LOW"/>
		<reg32 offset="0x17d8" name="INDEX_FORMAT">
			<value value="0" name="I8"/>
			<value value="1" name="I16"/>
			<value value="2" name="I32"/>
		</reg32>
		<reg32 offset="0x17dc" name="INDEX_BATCH_FIRST"/>
		<reg32 offset="0x17e0" name="INDEX_BATCH_COUNT"/>
		<reg32 offset="0x17e4" name="UN17E4" length="6"/> <!-- suspiciously like the two above -->
		<reg32 offset="0x187c" name="POLYGON_OFFSET_CLAMP" type="float"/>
		<reg32 offset="0x1880" name="VERTEX_ARRAY_PER_INSTANCE" length="32" type="boolean"/>
		<reg32 offset="0x1910" name="VP_POINT_SIZE">
			<bitfield pos="0" name="ENABLE"/>
			<bitfield low="4" high="11" name="UNK4"/>
		</reg32>
		<reg32 offset="0x1918" name="CULL_FACE_ENABLE" type="boolean"/>
		<reg32 offset="0x191c" name="FRONT_FACE" type="gl_front_face"/>
		<reg32 offset="0x1920" name="CULL_FACE" type="gl_cull_face"/>
		<reg32 offset="0x1924" name="PIXEL_CENTER_INTEGER" type="boolean">
			<doc>Affects FragCoord shader input.</doc>
		</reg32>
		<reg32 offset="0x192c" name="VIEWPORT_TRANSFORM_EN" type="boolean"/>
		<reg32 offset="0x1930" name="UNK1930" type="boolean">
			<doc>Shared with dijkstra</doc>
		</reg32>
		<reg32 offset="0x193c" name="VIEW_VOLUME_CLIP_CTRL">
			<bitfield pos="0" name="DEPTH_RANGE_0_1" type="boolean">
				<doc>If true, DEPTH_RANGE_NEAR/FAR is ignored and primitives
				are clipped if position.z is outside of the range [0,1]</doc>
			</bitfield>
			<bitfield high="2" low="1" name="UNK1">
				<value value="0" name="UNK0"/>
				<value value="1" name="UNK1"/>
				<value value="2" name="UNK2"/>
			</bitfield>
			<bitfield pos="3" name="DEPTH_CLAMP_NEAR"/>
			<bitfield pos="4" name="DEPTH_CLAMP_FAR"/>
			<bitfield pos="7" name="UNK7"/>
			<bitfield pos="10" name="UNK10"/> <!-- 1 by default -->
			<bitfield pos="11" name="UNK11"/>
			<bitfield high="13" low="12" name="UNK12">
				<value value="0" name="UNK0"/>
				<value value="1" name="UNK1"/>
				<value value="2" name="UNK2"/>
			</bitfield>
			<doc>2c1c: grctx default
			0000: cull whole triangles only
			0002: make depth clamp work even if only 0080 is set and 1000 is not
			0008: clamp -z
			0010: clamp +z
			0080: cull whole points and lines too, make depth clamp not work
			1000: clip properly if 0080 is set, make depth clamp work again</doc>
		</reg32>
		<reg32 offset="0x1940" name="CLIP_DISTANCE_MODE">
			<doc>A Primitive is culled if any cull distance is less than 0
			for all its vertices. In CULL mode, triangles are unmodified if
			they intersect a plane. In CLIP mode, the expected "cutting" occurs.
			</doc>
			<bitfield pos="0" name="0" type="g80_clip_distance_mode"/>
			<bitfield pos="4" name="1" type="g80_clip_distance_mode"/>
			<bitfield pos="8" name="2" type="g80_clip_distance_mode"/>
			<bitfield pos="12" name="3" type="g80_clip_distance_mode"/>
			<bitfield pos="16" name="4" type="g80_clip_distance_mode"/>
			<bitfield pos="20" name="5" type="g80_clip_distance_mode"/>
			<bitfield pos="24" name="6" type="g80_clip_distance_mode"/>
			<bitfield pos="28" name="7" type="g80_clip_distance_mode"/>
		</reg32>
		<reg32 offset="0x1944" name="UNK1944">
			<doc>0-2, no icmd, shared with dijkstra</doc>
		</reg32>
		<reg32 offset="0x1948" name="UNK1948" type="boolean"/>
		<reg32 offset="0x194c" name="CLIP_RECTS_EN" type="boolean"/>
		<reg32 offset="0x1950" name="CLIP_RECTS_MODE">
			<value value="0" name="INSIDE_ANY"/>
			<value value="1" name="OUTSIDE_ALL"/>
			<value value="2" name="NEVER"/> <!-- sounds useless... and doesn't make sense. -->
		</reg32>
		<reg32 offset="0x1958" name="ZCULL_INVALIDATE"/>
		<reg32 offset="0x1968" name="ZCULL_UNK1968">
			<bitfield pos="0" name="TESTS_ENABLE" type="boolean"/>
			<bitfield pos="4" name="UNK4"/>
		</reg32>
		<reg32 offset="0x196c" name="ZCULL_TEST_MASK">
			<doc>
			Set FAIL_GT_PASS_LT to 1 if the FP may increase the depth result,
			and PASS_GT_FAIL_LT to 1 if the FP may decrease the depth result.
			The prior disables coarse rejection/pass for GT/LT direction,
			the latter disables coarse rejection/pass for LT/GT direction.
			Looks useful for ARB_conservative_depth.
			</doc>
			<bitfield pos="0" name="FAIL_GT_PASS_LT" type="boolean"/>
			<bitfield pos="4" name="PASS_GT_FAIL_LT" type="boolean"/>
		</reg32>
		<reg32 offset="0x1970" name="UNK1970_D3D">
			<!-- *not* VERTEX_BEGIN -->
			<value value="0x0001" name="POINTS"/>
			<value value="0x0002" name="LINES"/>
			<value value="0x0003" name="LINE_STRIP"/>
			<value value="0x0004" name="TRIANGLES"/>
			<value value="0x0005" name="TRIANGLE_STRIP"/>
			<value value="0x000a" name="LINES_ADJACENCY"/>
			<value value="0x000b" name="LINE_STRIP_ADJACENCY"/>
			<value value="0x000c" name="TRIANGLES_ADJACENCY"/>
			<value value="0x000d" name="TRIANGLE_STRIP_ADJACENCY"/>
			<value value="0x000e" name="PATCHES"/>
		</reg32>
		<reg32 offset="0x1978" name="UNK1978"/>
		<reg32 offset="0x197c" name="CLIPID_ENABLE" type="boolean"/>
		<reg32 offset="0x1980" name="CLIPID_WIDTH" type="uint" align="0x40" max="0x2000"/>
		<reg32 offset="0x1984" name="CLIPID_ID"/>
		<reg32 offset="0x19bc" name="DEPTH_BOUNDS_EN" type="boolean"/>
		<reg32 offset="0x19c0" name="UNK19C0" type="boolean"/>
		<reg32 offset="0x19c4" name="LOGIC_OP_ENABLE" type="boolean"/>
		<reg32 offset="0x19c8" name="LOGIC_OP" type="gl_logic_op"/>
		<reg32 offset="0x19cc" name="ZETA_COMP_ENABLE" type="boolean"/>
		<reg32 offset="0x19d0" name="CLEAR_BUFFERS">
			<bitfield name="Z" pos="0" type="boolean"/>
			<bitfield name="S" pos="1" type="boolean"/>
			<bitfield name="R" pos="2" type="boolean"/>
			<bitfield name="G" pos="3" type="boolean"/>
			<bitfield name="B" pos="4" type="boolean"/>
			<bitfield name="A" pos="5" type="boolean"/>
			<bitfield name="RT" high="9" low="6" type="int"/>
			<bitfield name="LAYER" high="20" low="10" type="int"/>
		</reg32>
		<reg32 offset="0x19d4" name="CLIPID_FILL">
			<doc>Writes param to CLIPID subrectangle specified by intersection of SCREEN_SCISSOR and CLIPID_FILL_RECT.</doc>
		</reg32>
		<reg32 offset="0x19e0" name="RT_COMP_ENABLE" type="boolean" length="8"/>
		<reg32 offset="0x1a00" name="COLOR_MASK" length="8">
			<bitfield name="R" high="3" low="0" type="boolean" />
			<bitfield name="G" high="7" low="4" type="boolean" />
			<bitfield name="B" high="11" low="8" type="boolean" />
			<bitfield name="A" high="15" low="12" type="boolean" />
		</reg32>
		<reg32 offset="0x1a24" name="DELAY"/>
		<reg32 offset="0x1a2c" name="UNK1A2C" length="5">
			<doc>Shared with dijkstra</doc>
		</reg32>
		<reg32 offset="0x1b00" name="QUERY_ADDRESS_HIGH"/>
		<reg32 offset="0x1b04" name="QUERY_ADDRESS_LOW"/>
		<reg32 offset="0x1b08" name="QUERY_SEQUENCE"/>
		<reg32 offset="0x1b0c" name="QUERY_GET">
			<!-- XXX: more bits on GK104 -->
			<!-- XXX: figure this out -->
			<bitfield low="0" high="1" name="MODE">
				<value value="0" name="WRITE"/>
				<value value="1" name="SYNC"/>
				<value value="2" name="WRITE_UNK2"/>
				<value value="3" name="WRITE_INTR_NRHOST"/>
			</bitfield>
			<bitfield pos="2" name="UNK2"/>
			<bitfield pos="4" name="FENCE"/><!-- ? -->
			<bitfield low="5" high="7" name="STREAM" type="int"/><!-- not sure about bit 7 -->
			<bitfield pos="8" name="UNK8"/>
			<bitfield low="12" high="15" name="UNIT"/>
			<bitfield pos="16" name="SYNC_COND">
				<value value="0" name="NEQUAL"/>
				<value value="1" name="GREATER"/>
			</bitfield>
			<bitfield pos="20" name="INTR"/>
			<bitfield pos="21" name="UNK21"/>
			<bitfield low="23" high="27" name="SELECT">
				<value value="0x00" name="ZERO"/>
				<value value="0x02" name="SAMPLECNT"/><!-- u32 sequence, u32 result, u64 time -->
				<value value="0x0b" name="EMITTED_PRIMS"/>
				<value value="0x12" name="GENERATED_PRIMS"/><!-- u64 result, u64 time -->
			</bitfield>
			<bitfield pos="28" name="SHORT"/><!-- only write result (at offset 0) -->
		</reg32>
		<reg32 offset="0x1c00" name="VERTEX_ARRAY_FETCH" length="32" stride="16">
			<bitfield name="STRIDE" high="11" low="0" type="int"/>
			<bitfield name="ENABLE" pos="12" type="boolean"/>
		</reg32>
		<reg32 offset="0x1c04" name="VERTEX_ARRAY_START_HIGH" length="32" stride="16"/>
		<reg32 offset="0x1c08" name="VERTEX_ARRAY_START_LOW" length="32" stride="16"/>
		<reg32 offset="0x1c0c" name="VERTEX_ARRAY_DIVISOR" length="32" stride="16" type="uint"/>
		<array offset="0x1e00" name="IBLEND" stride="0x20" length="8">
			<reg32 offset="0x00" name="SEPARATE_ALPHA" type="boolean"/>
			<reg32 offset="0x04" name="EQUATION_RGB" type="gl_blend_equation"/>
			<reg32 offset="0x08" name="FUNC_SRC_RGB" type="G80_BLEND_FACTOR"/>
			<reg32 offset="0x0c" name="FUNC_DST_RGB" type="G80_BLEND_FACTOR"/>
			<reg32 offset="0x10" name="EQUATION_ALPHA" type="gl_blend_equation"/>
			<reg32 offset="0x14" name="FUNC_SRC_ALPHA" type="G80_BLEND_FACTOR"/>
			<reg32 offset="0x18" name="FUNC_DST_ALPHA" type="G80_BLEND_FACTOR"/>
		</array>
		<reg32 offset="0x1f00" name="VERTEX_ARRAY_LIMIT_HIGH" length="32" stride="8"/>
		<reg32 offset="0x1f04" name="VERTEX_ARRAY_LIMIT_LOW" length="32" stride="8"/>
		<stripe offset="0x2000" name="SP" stride="64" length="6">
			<reg32 offset="0x00" name="SELECT">
				<bitfield name="ENABLE" pos="0" type="boolean"/>
				<bitfield name="PROGRAM" high="7" low="4">
					<value value="0" name="VP_A"/>
					<value value="1" name="VP_B"/>
					<value value="2" name="TCP"/>
					<value value="3" name="TEP"/>
					<value value="4" name="GP"/>
					<value value="5" name="FP"/>
				</bitfield>
			</reg32>
			<reg32 offset="0x04" name="START_ID"/>
			<reg32 offset="0x08" name="UNK08">
				<doc>Only 0. Some kind of flush?</doc>
			</reg32>
			<reg32 offset="0x0c" name="GPR_ALLOC" type="uint"/>
			<reg32 offset="0x10" name="TYPE">
				<value value="0" name="VP"/>
				<value value="1" name="TCP"/>
				<value value="2" name="TEP"/>
				<value value="3" name="GP"/>
				<value value="4" name="FP"/>
			</reg32>
			<reg32 offset="0x14" name="UNK14" length="4">
				<doc>Only 0. Some kind of flush?</doc>
			</reg32>
		</stripe>
		<reg32 offset="0x2200" name="TEX_LIMITS" length="5" stride="16" variants="GF100_3D:GK104_3D">
			<bitfield name="SAMPLERS_LOG2" high="3" low="0" type="uint" min="0" max="4"/>
			<bitfield name="TEXTURES_LOG2" high="7" low="4" type="uint" min="0" max="7"/>
		</reg32>
		<reg32 offset="0x2204" name="UNK2204" length="5" stride="16" variants="GF100_3D:GK104_3D">
			<doc>Only 0. Some kind of flush?</doc>
		</reg32>
		<reg32 offset="0x2208" name="UNK2208" length="5" stride="16" variants="GF100_3D:GK104_3D">
			<doc>Only 0. Some kind of flush?</doc>
		</reg32>
		<reg32 offset="0x2300" name="FIRMWARE" length="0x20"/>
		<reg32 offset="0x2380" name="CB_SIZE" type="uint"/>
		<reg32 offset="0x2384" name="CB_ADDRESS_HIGH"/>
		<reg32 offset="0x2388" name="CB_ADDRESS_LOW"/>
		<reg32 offset="0x238c" name="CB_POS"/>
		<reg32 offset="0x2390" name="CB_DATA" length="16"/>
		<reg32 offset="0x2400" name="BIND_TSC" length="5" stride="32" variants="GF100_3D:GK104_3D">
		  <bitfield name="ACTIVE" pos="0" type="boolean"/>
		  <bitfield name="SAMPLER" high="11" low="4" type="uint"/>
		  <bitfield name="TSC" high="24" low="12" type="uint"/>
		</reg32>
		<reg32 offset="0x2404" name="BIND_TIC" length="5" stride="32" variants="GF100_3D:GK104_3D">
		  <bitfield name="ACTIVE" pos="0" type="boolean"/>
		  <bitfield name="TEXTURE" high="8" low="1" type="uint"/>
		  <bitfield name="TIC" high="30" low="9" type="uint"/>
		</reg32>
		<reg32 offset="0x2408" name="BIND_TSC2" length="5" stride="32" variants="GF100_3D:GK104_3D">
		  <bitfield name="ACTIVE" pos="0" type="boolean"/>
		  <bitfield name="SAMPLER" pos="4" type="uint"/>
		  <bitfield name="TSC" high="24" low="12" type="uint"/>
		</reg32>
		<reg32 offset="0x240c" name="BIND_TIC2" length="5" stride="32" variants="GF100_3D:GK104_3D">
		  <bitfield name="ACTIVE" pos="0" type="boolean"/>
		  <bitfield name="TEXTURE" pos="1" type="uint"/>
		  <bitfield name="TIC" high="30" low="9" type="uint"/>
		</reg32>
		<reg32 offset="0x2400" name="UNK2400_TSC" length="5" stride="32" type="boolean" variants="GK104_3D-"/>
		<reg32 offset="0x2404" name="UNK2400_TIC" length="5" stride="32" type="boolean" variants="GK104_3D-"/>
		<reg32 offset="0x2408" name="UNK2400_TSC2" length="5" stride="32" type="boolean" variants="GK104_3D-"/>
		<reg32 offset="0x240c" name="UNK2400_TIC2" length="5" stride="32" type="boolean" variants="GK104_3D-"/>
		<reg32 offset="0x2410" name="CB_BIND" length="5" stride="32">
		  <bitfield name="VALID" pos="0" type="boolean"/>
		  <bitfield name="INDEX" high="8" low="4" type="uint"/>
		  <!-- XXX: valid INDEX is 0..0x11. wtf? -->
		</reg32>
		<reg32 offset="0x2500" name="UNK2500" length="5" stride="32" variants="GF100_3D:GK104_3D">
			<doc>Only 0. Some kind of flush?</doc>
		</reg32>
		<reg32 offset="0x2504" name="UNK2504" length="5" stride="32" variants="GF100_3D:GK104_3D">
			<doc>Only 0. Some kind of flush?</doc>
		</reg32>
		<reg32 offset="0x2508" name="UNK2508" length="5" stride="32" variants="GF100_3D:GK104_3D">
			<doc>Only 0. Some kind of flush?</doc>
		</reg32>
		<reg32 offset="0x250c" name="UNK250C" length="5" stride="32" variants="GF100_3D:GK104_3D">
			<doc>Only 0. Some kind of flush?</doc>
		</reg32>
		<reg32 offset="0x2510" name="UNK2510" length="5" stride="32" variants="GF100_3D:GK104_3D">
			<doc>Only 0. Some kind of flush?</doc>
		</reg32>
		<reg32 offset="0x2600" name="VERT_COLOR_CLAMP_EN" type="boolean"/>
		<reg32 offset="0x2604" name="UNK2604" type="boolean" variants="GK104_3D-"/>
		<reg32 offset="0x2608" name="TEX_CB_INDEX" type="uint" min="0" max="16" variants="GK104_3D-"/>
		<reg32 offset="0x260c" name="UNK260C" variants="GK104_3D-"/> <!-- ffffffff -->
		<stripe offset="0x2700" name="IMAGE" length="8" stride="0x20" variants="GF100_3D:GK104_3D">
			<reg32 offset="0x00" name="ADDRESS_HIGH"/>
			<reg32 offset="0x04" name="ADDRESS_LOW"/>
			<reg32 offset="0x08" name="WIDTH" type="uint"/>
			<reg32 offset="0x0c" name="HEIGHT">
				<bitfield name="HEIGHT" high="15" low="0" type="uint"/><!-- 1 for buffer textures -->
				<bitfield name="UNK16" pos="16"/>
				<bitfield name="LAYOUT" pos="20" type="inv_memory_layout"/><!-- probably -->
			</reg32>
			<reg32 offset="0x10" name="FORMAT">
				<bitfield name="UNK0" pos="0"/><!-- default 0 -->
				<bitfield name="FORMAT_COLOR" high="11" low="4" type="G80_SURFACE_FORMAT"/>
				<bitfield name="FORMAT_ZETA" high="16" low="12" type="G80_ZETA_FORMAT"/>
			</reg32>
			<reg32 offset="0x14" name="BLOCK_DIMENSIONS" type="block_dimensions"/>
		</stripe>
		<stripe offset="0x2800" length="4" stride="0x80">
			<reg32 offset="0" name="TFB_VARYING_LOCS" length="32"/>
		</stripe>
		<reg32 offset="0x335c" name="MP_PM_SET" length="8"/>
		<reg32 offset="0x337c" name="MP_PM_SIGSEL" length="8" variants="GF100_3D:GK104_3D"/>
		<reg32 offset="0x337c" name="MP_PM_A_SIGSEL" length="4" type="gk104_mp_pm_siggroup_a" variants="GK104_3D-"><!-- byte i of MP+0x4 -->
			<doc>These methods determine the signal groups that can be accessed
			by SRCSEL(0..3).</doc>
		</reg32>
		<reg32 offset="0x338c" name="MP_PM_B_SIGSEL" length="4" type="gk104_mp_pm_siggroup_b" variants="GK104_3D-"><!-- byte i of MP+0x8 -->
			<doc>These methods determine the signal groups that can be accessed
			by SRCSEL(4..7).</doc>
		</reg32>
		<reg32 offset="0x339c" name="MP_PM_SRCSEL" length="8" variants="GF100_3D:GK104_3D">
			<bitfield low="0" high="2" name="GRP0"/>
			<bitfield low="4" high="6" name="SIG0"/>
			<bitfield low="8" high="10" name="GRP1"/>
			<bitfield low="12" high="14" name="SIG1"/>
			<bitfield low="16" high="18" name="GRP2"/>
			<bitfield low="20" high="22" name="SIG2"/>
			<bitfield low="24" high="26" name="GRP3"/>
			<bitfield low="28" high="30" name="SIG3"/>
		</reg32>
		<reg32 offset="0x339c" name="MP_PM_SRCSEL" length="8" variants="GK104_3D-"><!-- MP+0x130+(i*4) -->
			<doc>
			GRPj selects the signal group for function input j. It is an index into PM_SIGSEL_A/B.
			SIGj selects the individual signal of the signal group.
			</doc>
                        <bitfield high="1"  low="0"  name="GRP0"/>
                        <bitfield high="4"  low="2"  name="SIG0"/>
                        <bitfield high="6"  low="5"  name="GRP1"/>
                        <bitfield high="9"  low="7"  name="SIG1"/>
                        <bitfield high="11" low="10" name="GRP2"/>
                        <bitfield high="14" low="12" name="SIG2"/>
                        <bitfield high="16" low="15" name="GRP3"/>
                        <bitfield high="19" low="17" name="SIG3"/>
                        <bitfield high="21" low="20" name="GRP4"/>
                        <bitfield high="24" low="22" name="SIG4"/>
                        <bitfield high="26" low="25" name="GRP5"/>
                        <bitfield high="29" low="27" name="SIG5"/>
		</reg32>
		<reg32 offset="0x33bc" name="MP_PM_OP" length="8" variants="GF100_3D:GK104_3D">
			<bitfield pos="0" name="MODE" type="g80_mp_pm_mode"/>
			<bitfield low="4" high="19" name="FUNC"/>
		</reg32>
		<reg32 offset="0x33bc" name="MP_PM_FUNC" length="8" variants="GK104_3D-">
			<doc>i-th method programs i-th counter, where counters 0 to 3 access SIGSEL/SRCSEL_A,
			and counters 4 to 7 refer to SIGSEL/SRCSEL_B.

			In LOGOP mode, PM_SRCSEL_A/B (GRPi,SIGi), i=0..3 determine src i of
			the logic operation described by FUNC (i.e. bit i of the index of the
			bit of FUNC that determines whether the counter is incremented or not).

			In B6 mode, PM_SRCSEL_A/B (GRPi,SIGi) determine bit i of the value the
			counter is incremented by. That value is masked with FUNC.

			In LOGOP_B6 mode, the counter is incremented by x (made of (GRPi,SIGi)) if
			LOGOP is true, i.e. bit (x AND 15) of FUNC is 1.

			The PULSE variants only increment the counter when the LOGOP result changes from 1 to 0.
			</doc>
			<bitfield high="3" low="0" name="MODE" type="gk104_mp_pm_mode"/><!-- bits [i*4,i*4+3] of MP+0x5c,58 (note reverse order !) -->
			<bitfield high="19" low="4" name="FUNC"/><!-- i-th 16-bit word of MP+0x60..0x6c -->
		</reg32>
		<reg32 offset="0x33dc" name="MP_PM_UNK33DC">
			<doc>0-0xff</doc>
		</reg32>
		<reg32 offset="0x3820" name="NVRM_MACRO_VERTEX_ARRAY_SELECT" type="uint"/>
		<reg32 offset="0x3858" name="NVRM_MACRO_BLEND_ENABLES"/>
		<reg32 offset="0x3868" name="NVRM_MACRO_POLYGON_MODE_FRONT" type="gl_polygon_mode"/>
		<reg32 offset="0x3870" name="NVRM_MACRO_POLYGON_MODE_BACK" type="gl_polygon_mode"/>
		<reg32 offset="0x3878" name="NVRM_MACRO_GP_SELECT"/>
		<reg32 offset="0x3880" name="NVRM_MACRO_TEP_SELECT"/>
	</stripe>
</domain>

</database>

