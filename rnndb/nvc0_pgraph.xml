<?xml version="1.0" encoding="UTF-8"?>
<database xmlns="http://nouveau.freedesktop.org/"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://nouveau.freedesktop.org/ rules-ng.xsd">
<import file="copyright.xml"/>

<import file="nvchipsets.xml" />
<import file="nv98_fuc.xml" />
<import file="nv50_pgraph.xml" />

<domain name="NV_MMIO" bare="yes" prefix="chipset">

<array name="PGRAPH" offset="0x400000" stride="0x200000" length="1" variants="NVC0-">

	<reg32 offset="0x0100" name="INTR"> <!-- HOST/DAEMON only -->
		<brief>Interrupt status</brief>
		<doc>Shows currently pending interrupts. Write 1 to a bit to reset it, and ACK the interrupt.</doc>
		<bitfield name="NOTIFY" pos="0">
			<doc>You asked for a NOTIFY with interrupt and got it.</doc>
		</bitfield>
		<bitfield name="QUERY" pos="1">
			<doc>You asked for a QUERY with interrupt and got it.</doc>
		</bitfield>
		<bitfield name="SYNC" pos="2" />
		<bitfield name="ILLEGAL_MTHD" pos="4">
			<doc>You tried to use a method that doesn't exist on this class.</doc>
		</bitfield>
		<bitfield name="ILLEGAL_CLASS" pos="5">
			<doc>You tried to use a class not supported by this GPU.</doc>
		</bitfield>
		<bitfield name="DOUBLE_NOTIFY" pos="6">
			<doc>You tried to use NOTIFY command on another NOTIFY command.</doc>
		</bitfield>
		<bitfield name="UNK7" pos="7" />
		<bitfield name="FIRMWARE_MTHD" pos="8">
			<doc>You ran one of the FIRMWARE methods.</doc>
		</bitfield>
		<bitfield name="BUFFER_NOTIFY" pos="16">
			<doc>You asked for m2mf transfer with interrupt after finish and got it.</doc>
		</bitfield>
		<bitfield name="CTXCTL_UP" pos="19">
			<doc>Triggered by poking CTXCTL INTR_UP_SET.</doc>
		</bitfield>
		<bitfield name="DATA_ERROR" pos="20">
			<doc>You used an invalid parameter for this method. Or maybe you tried
			to launch some operation, but the relevant state is inconsistent.
			Relevant state is in DATA_ERROR</doc>
		</bitfield>
		<bitfield name="TRAP" pos="21">
			<doc>A PGRAPH command failed in the middle of execution. TRAP register will
			tell you which subunit reports the trap.</doc>
		</bitfield>
		<bitfield name="SINGLE_STEP" pos="24" />
	</reg32>
	<reg32 offset="0x0108" name="TRAP">
		<brief>Trap status</brief>
		<doc>Like INTR, but applies to TRAP sub-types. Shows which subunits report trap.
		Each subunit has its own TRAP status register, which you have to check in turn
		to know the exact TRAP sub-subtype, and reset it. Write 1 to a bit to reset it
		and ACK the trap.</doc>
		<bitfield name="DISPATCH" pos="0">
			<brief>Check 404000</brief>
		</bitfield>
		<bitfield name="M2MF" pos="1">
			<brief>Check 404600</brief>
		</bitfield>
		<bitfield name="UNK2" pos="2"/>
		<bitfield name="CCACHE" pos="3">
			<brief>Check 408030</brief>
		</bitfield>
		<bitfield name="UNK4" pos="4">
			<brief>Check 405840. Shader-related.</brief>
		</bitfield>
		<bitfield name="UNK5" pos="5"/>
		<bitfield name="UNK6" pos="6">
			<brief>Check 40601c</brief>
		</bitfield>
		<bitfield name="MACRO" pos="7">
			<brief>Check 404490</brief>
		</bitfield>
		<bitfield name="SKED" pos="8" variants="NVE4-">
			<brief>Check 407020</brief>
		</bitfield>
		<bitfield name="GPC" pos="24"/>
		<bitfield name="ROP" pos="25"/>
	</reg32>
	<reg32 offset="0x0110" name="DATA_ERROR" type="NV50_PGRAPH_DATA_ERROR">
		<doc>Stores type of the pending DATA_ERROR.</doc>
	</reg32>
	<reg32 offset="0x0118" name="TRAP_GPCS"/>
	<reg32 offset="0x011c" name="TRAP_ROPS"/>
	<reg32 offset="0x0120" name="INTR_NRHOST">
		<!-- a bitfield in the QUERY command selects whether to trigger an interrupt here or in the usual reg -->
		<bitfield name="QUERY" pos="1"/>
	</reg32>
	<reg32 offset="0x0124" name="INTR_EN_NRHOST">
		<bitfield name="QUERY" pos="1"/>
	</reg32>
	<reg32 offset="0x0130" name="TRAP_GPCS_EN"/>
	<reg32 offset="0x0134" name="TRAP_ROPS_EN"/>
	<reg32 offset="0x0138" name="TRAP_EN">
		<brief>Trap enable</brief>
		<doc>A bitmask of events that will cause traps, same bit assignments as in TRAP reg.</doc>
		<bitfield name="DISPATCH" pos="0" />
		<bitfield name="M2MF" pos="1" />
		<bitfield name="UNK2" pos="2"/>
		<bitfield name="CCACHE" pos="3"/>
		<bitfield name="UNK4" pos="4"/>
		<bitfield name="UNK5" pos="5"/>
		<bitfield name="UNK6" pos="6"/>
		<bitfield name="MACRO" pos="7"/>
		<bitfield name="SKED" pos="8" variants="NVE4-"/>
		<bitfield name="GPC" pos="24"/>
		<bitfield name="ROP" pos="25"/>
	</reg32>
	<reg32 offset="0x013c" name="INTR_EN">
		<brief>Interrupt enable</brief>
		<doc>A bitmask of events that will cause interrupts, same bit assignments as in INTR reg.</doc>
		<bitfield name="NOTIFY" pos="0" />
		<bitfield name="QUERY" pos="1" />
		<bitfield name="SYNC" pos="2" />
		<bitfield name="ILLEGAL_MTHD" pos="4" />
		<bitfield name="ILLEGAL_CLASS" pos="5" />
		<bitfield name="DOUBLE_NOTIFY" pos="6" />
		<bitfield name="UNK7" pos="7" />
		<bitfield name="FIRMWARE_MTHD" pos="8" />
		<bitfield name="BUFFER_NOTIFY" pos="16" />
		<bitfield name="CTXCTL_UP" pos="19" />
		<bitfield name="DATA_ERROR" pos="20" />
		<bitfield name="TRAP" pos="21" />
		<bitfield name="SINGLE_STEP" pos="24" />
	</reg32>
	<reg32 offset="0x0140" name="INTR_DISPATCH_CTXCTL_DOWN">
		<doc>If a bit is set to 1, a given interrupt will use _CTXCTL_DOWN versions
		of interrupt registers and will be routed to main CTXCTL interrupt source
		11 [HUB_CTXCTL_DOWN] instead of host PGRAPH interrupt.</doc>
		<bitfield name="ILLEGAL_MTHD" pos="4" />
		<bitfield name="FIRMWARE_MTHD" pos="8" />
	</reg32>
	<reg32 offset="0x0144" name="INTR_CTXCTL_DOWN">
		<doc>Like INTR, but for CTXCTL interrupts.</doc>
		<bitfield name="ILLEGAL_MTHD" pos="4" />
		<bitfield name="FIRMWARE_MTHD" pos="8" />
	</reg32>
	<reg32 offset="0x0148" name="INTR_EN_CTXCTL_DOWN">
		<doc>Like INTR_EN, but for CTXCTL interrupts.</doc>
		<bitfield name="ILLEGAL_MTHD" pos="4" />
		<bitfield name="FIRMWARE_MTHD" pos="8" />
	</reg32>

	<reg32 offset="0x0200" name="ICMD_CMD" />
	<reg32 offset="0x0204" name="ICMD_DATA" />

	<stripe offset="0x0500" name="FIFO">
		<reg32 offset="0x00" name="CONTROL">
			<bitfield pos="0" name="PULL">
				<doc>Enables executing commands incoming through DISPATCH_CMD.</doc>
			</bitfield>
			<bitfield pos="8" name="UNK8"/>
			<bitfield pos="16" name="UNK16"/> <!-- usually set, but doesn't seem needed for operation... -->
			<bitfield high="28" low="20" name="LIMIT" variants="NV84-">
				<doc>Max number of slots allowed to be occupied in FIFO. 0 and > 0x100 are treated as 0x100.</doc>
			</bitfield>
		</reg32>
		<reg32 offset="0x04" name="STATUS" access="r">
			<bitfield pos="0" name="EMPTY" />
			<bitfield pos="1" name="FULL" />
			<bitfield high="15" low="4" name="OCCUPIED">
				<doc>How many slots contain valid data atm.</doc>
			</bitfield>
			<bitfield high="23" low="16" name="GET"/>
			<bitfield high="31" low="24" name="PUT"/>
		</reg32>
	</stripe>

	<reg32 offset="0x0380" name="VSTATUS_0" access="r">
		<bitfield low="0" high="2" name="HUB_UNK0" type="NV50_VSTATUS"/>
		<bitfield low="3" high="5" name="HUB_UNK1" type="NV50_VSTATUS"/>
		<bitfield low="6" high="8" name="HUB_UNK2" type="NV50_VSTATUS"/>
		<bitfield low="9" high="11" name="HUB_UNK3" type="NV50_VSTATUS"/>
		<bitfield low="12" high="14" name="HUB_UNK4" type="NV50_VSTATUS"/>
		<bitfield low="15" high="17" name="HUB_UNK5" type="NV50_VSTATUS"/>
	</reg32>

	<reg32 offset="0x0384" name="VSTATUS_1" access="r">
		<bitfield low="0" high="2" name="PCOUNTER_MAIN" type="NV50_VSTATUS"/>
		<bitfield low="3" high="5" name="PCOUNTER" type="NV50_VSTATUS"/>
		<bitfield low="6" high="8" name="HUB_UNK8" type="NV50_VSTATUS"/>
		<bitfield low="9" high="11" name="HUB_UNK9" type="NV50_VSTATUS"/>
		<bitfield low="12" high="14" name="HUB_UNK10" type="NV50_VSTATUS"/>
	</reg32>

	<reg32 offset="0x0388" name="VSTATUS_2" access="r">
		<bitfield low="0" high="2" name="ROP_UNK0" type="NV50_VSTATUS"/>
		<bitfield low="3" high="5" name="ROP_UNK1" type="NV50_VSTATUS"/>
		<bitfield low="6" high="8" name="ROP_UNK2" type="NV50_VSTATUS"/>
		<bitfield low="9" high="11" name="HUB_UNK11" type="NV50_VSTATUS"/>
		<bitfield low="12" high="14" name="HUB_UNK12" type="NV50_VSTATUS"/>
		<bitfield low="15" high="17" name="HUB_UNK13" type="NV50_VSTATUS"/>
	</reg32>

	<reg32 offset="0x0390" name="VSTATUS_3" access="r">
		<bitfield low="0" high="2" name="GPC" type="NV50_VSTATUS"/>
		<bitfield low="3" high="5" name="HUB_UNK14" type="NV50_VSTATUS"/>
		<bitfield low="6" high="8" name="HUB_UNK15" type="NV50_VSTATUS"/>
		<bitfield low="9" high="11" name="HUB_UNK16" type="NV50_VSTATUS"/>
	</reg32>

	<reg32 offset="0x0604" name="GPC_STATUS" access="r"/> <!-- mask of busy GPCs -->
	<reg32 offset="0x0608" name="ROP_STATUS" access="r"/> <!-- mask of busy ROPs -->
	<reg32 offset="0x060c" name="FE_STATUS" access="r"/> <!-- 1 when FE busy? -->
	<reg32 offset="0x0610" name="PCOUNTER_STATUS_MASK"> <!-- enables PCOUNTER -> PGRAPH.HUB status reporting -->
		<bitfield pos="15" name="PCOUNTER_MAIN"/>
		<bitfield pos="16" name="PCOUNTER"/>
	</reg32>

	<reg32 offset="0x0700" name="STATUS" access="r">
		<bitfield pos="0" name="ALL"/>

		<bitfield pos="3" name="UNK3_PAUSABLE"/>

		<bitfield pos="5" name="UNK5_PAUSABLE"/>
		<bitfield pos="6" name="M2MF"/>
		<bitfield pos="7" name="CTXCTL"/>
		<bitfield pos="8" name="UNK8_PAUSABLE"/>
		<bitfield pos="9" name="UNK9_PAUSABLE"/>
		<bitfield pos="11" name="UNK11_PAUSABLE"/>
		<bitfield pos="12" name="UNK12_PAUSABLE"/>
		<bitfield pos="13" name="UNK13_PAUSABLE"/>
		<bitfield pos="14" name="UNK14_PAUSABLE"/>
		<bitfield pos="15" name="PCOUNTER_MAIN"/>
		<bitfield pos="16" name="PCOUNTER"/>
		<bitfield pos="17" name="UNK17_PAUSABLE"/>

		<bitfield pos="24" name="GPC"/>
		<bitfield pos="25" name="ROP"/>
	</reg32>

	<reg32 offset="0x0704" name="TRAPPED_ADDR">
		<doc>Offending subchan + method, for [most types of] PGRAPH interrupts.</doc>
		<bitfield name="MTHD" high="13" low="2" shr="2" />
		<bitfield name="SUBCH" high="18" low="16" />
	</reg32>
	<reg32 offset="0x0708" name="TRAPPED_DATA_LOW">
		<doc>Offending method data, for [most types of] PGRAPH interrupts.</doc>
	</reg32>
	<reg32 offset="0x070c" name="TRAPPED_DATA_HIGH" /> <!-- I have no idea what this is for. But it's been around since NV10. -->

	<array offset="0x4000" name="DISPATCH" stride="0x400" length="1">
		<reg32 offset="0x00" name="TRAP">
			<bitfield name="CLEAR" pos="30" />
			<bitfield name="ENABLE" pos="31" />
		</reg32>
		<reg32 offset="0x04" name="CMD_ADDR">
			<bitfield name="MTHD" high="12" low="2" shr="2" />
			<bitfield name="SUBCH" high="18" low="16" />
			<bitfield name="NONINCR" pos="20" />
			<bitfield name="UNK1" pos="21" /> <!-- sometimes set by DISPATCH itself during exec... related to NOTIFY? -->
			<bitfield name="SINGLE_STEP_DONE" pos="22" />
			<bitfield name="DOUBLE" pos="25" />
			<bitfield name="CURRENT_SUBCH" pos="29" />
			<bitfield name="VALID" pos="31" />
		</reg32>
		<reg32 offset="0x08" name="CMD_DATA_LOW" />
		<reg32 offset="0x0c" name="CMD_DATA_HIGH" />
		<reg32 offset="0x10" name="CTX_SWITCH" />
		<reg32 offset="0x24" name="SUBCH">
			<bitfield name="SUBCH" high="15" low="13" />
		</reg32>
		<reg32 offset="0x28" name="MISC">
			<bitfield name="NOTIFY_PENDING" pos="8" />
			<bitfield name="NOTIFY_AWAKEN" pos="16" />
		</reg32>
		<reg32 offset="0x2c" name="ST2_ADDR">
			<doc>Second stage of dispatch... if QUERY blows up on you,
			it can get stuck here. At least sometimes.</doc>
			<bitfield name="MTHD" high="12" low="2" shr="2" />
			<bitfield name="ILLEGAL_CLASS" pos="29" />
			<bitfield name="ILLEGAL_MTHD" pos="30" />
			<bitfield name="VALID" pos="31" />
		</reg32>

		<reg32 offset="0x3c" name="ST2_DATA_LOW" />
		<reg32 offset="0x40" name="ST2_DATA_HIGH" />

		<reg32 offset="0x48" name="ST3_ADDR">
			<bitfield name="MTHD" high="12" low="2" shr="2" />
			<bitfield name="VALID" pos="31" />
		</reg32>
		<reg32 offset="0x50" name="ST3_DATA_LOW" />
		<reg32 offset="0x54" name="ST3_DATA_HIGH" />

		<reg32 offset="0xc0" name="COND_ADDRESS_HIGH" />
		<reg32 offset="0xc4" name="COND_ADDRESS_LOW" />

		<reg32 offset="0xd0" name="NOTIFY_3D_ADDRESS_HIGH" /> <!-- also compute -->
		<reg32 offset="0xd4" name="NOTIFY_3D_ADDRESS_LOW" />
		<reg32 offset="0xd8" name="NOTIFY_2D_ADDRESS_HIGH" />
		<reg32 offset="0xdc" name="NOTIFY_2D_ADDRESS_LOW" />
		<reg32 offset="0xe0" name="NOTIFY_M2MF_ADDRESS_HIGH" />
		<reg32 offset="0xe4" name="NOTIFY_M2MF_ADDRESS_LOW" />

		<reg32 offset="0x15c" name="PM_UNK15C"/>

		<reg32 offset="0x200" name="CTX_CACHE" length="8" />
	</array>
	<array offset="0x4400" name="MACRO" stride="0x100" length="1">
		<reg32 offset="0" name="REG" length="8"/>
		<reg32 offset="0x20" name="OPCODE"/>
		<reg32 offset="0x24" name="PC"/>
		<reg32 offset="0x28" name="NPC"/>
		<reg32 offset="0x2c" name="STATE">
			<bitfield pos="0" name="CARRY"/>
			<bitfield pos="4" name="UNK4"/>
			<bitfield pos="8" name="RUNNING"/>
			<bitfield pos="9" name="OPCODE_PENDING"/>
		</reg32>
		<reg32 offset="0x30" name="UNK30">
			<bitfield low="0" high="15" name="CLASS"/>
			<bitfield low="16" high="18" name="UNK16"/>
			<bitfield pos="20" name="UNK20"/>
			<bitfield pos="24" name="UNK24"/>
		</reg32>
		<reg32 offset="0x34" name="UNK34">
			<bitfield low="0" high="15" name="CLASS"/>
			<bitfield low="16" high="18" name="UNK16"/>
			<bitfield pos="20" name="UNK20"/>
		</reg32>
		<reg32 offset="0x38" name="UNK38">
			<bitfield low="0" high="17" name="MADDR"/>
			<bitfield pos="20" name="UNK20"/>
		</reg32>
		<reg32 offset="0x60" name="UNK60"/> <!-- 7f -->
		<reg32 offset="0x64" name="UNK64"/> <!-- 7ff -->
		<reg32 offset="0x68" name="WDCNT"/> <!-- 24 bits on NVC0:NVD9, 30 bits on NVD9+? -->
		<reg32 offset="0x6c" name="ICNT"/>
		<reg32 offset="0x80" name="UNK80"/> <!-- 3 -->
		<reg32 offset="0x88" name="MCACHE_CTRL">
			<bitfield low="0" high="15" name="CLASS"/>
			<bitfield low="16" high="27" name="MTHD" shr="2"/>
			<bitfield pos="30" name="READ_TRIGGER"/>
			<bitfield pos="31" name="WRITE_TRIGGER"/>
		</reg32>
		<reg32 offset="0x8c" name="MCACHE_DATA"/>
		<reg32 offset="0x90" name="TRAP">
			<bitfield pos="0" name="TOO_FEW_PARAMS"/>
			<bitfield pos="1" name="TOO_MANY_PARAMS"/>
			<bitfield pos="2" name="ILLEGAL_OPCODE"/>
			<bitfield pos="3" name="DOUBLE_BRANCH"/>
			<bitfield pos="4" name="WATCHDOG"/>
			<bitfield pos="29" name="BLOCK"/>
			<bitfield pos="30" name="CLEAR"/>
			<bitfield pos="31" name="ENABLE"/>
		</reg32>
		<reg32 offset="0x94" name="TRAP_LOCATION" access="r">
			<bitfield low="0" high="10" name="PC"/>
			<!-- XXX: something at 28? -->
		</reg32>
		<reg32 offset="0x98" name="UNK98">
			<bitfield pos="0" name="UNK0"/>
			<bitfield pos="4" name="UNK4"/>
		</reg32>
		<reg32 offset="0x9c" name="TRAP_OPCODE" access="r"/>
		<reg32 offset="0xa0" name="STATUS">
		</reg32>
	</array>
	<array offset="0x4600" name="M2MF" stride="0x200" length="1">
		<reg32 offset="0x00" name="TRAP">
			<bitfield name="PUSH_TOO_MUCH_DATA" pos="0" />
			<bitfield name="PUSH_NOT_ENOUGH_DATA" pos="1" />
			<bitfield name="CLEAR" pos="30" />
			<bitfield name="ENABLE" pos="31" />
		</reg32>
	</array>
	<array offset="0x4800" name="DDATA" stride="0x800" length="1">
	</array>
	<array offset="0x5800" name="UNK5800" stride="0x100" length="1">
		<reg32 offset="0x40" name="TRAP">
			<bitfield name="CLEAR" pos="30" />
			<bitfield name="ENABLE" pos="31" />
		</reg32>
		<reg32 offset="0x44" name="TRAP_UNK44"/>
		<reg32 offset="0x70" name="GPC_TPCNT" length="4">
			<bitfield low="0" high="3" name="0"/>
			<bitfield low="4" high="7" name="1"/>
			<bitfield low="8" high="11" name="2"/>
			<bitfield low="12" high="15" name="3"/>
			<bitfield low="16" high="19" name="4"/>
			<bitfield low="20" high="23" name="5"/>
			<bitfield low="24" high="27" name="6"/>
			<bitfield low="28" high="31" name="7"/>
		</reg32>
	</array>
	<array offset="0x5b00" name="UNK5B00" stride="0x100" length="1">
		<reg32 offset="0x00" name="UNK00">
			<doc>Affects the maximum number of MPs used for compute shader grids.
			This includes layout the layout of the TEMP area.
			Values seen: 0x201 for 1 GPC with 2 TPs and 0x804 for 4 GPCs with 2 TPs each.
			</doc>
			<bitfield low="0" high="7" name="UNK0"/>
			<bitfield low="8" high="15" name="MP_COUNT"/><!-- guess -->
		</reg32>
	</array>
	<array offset="0x6000" name="UNK6000" stride="0x800" length="1">
		<reg32 offset="0x18" name="TRAP_UNK0">
			<bitfield name="CLEAR" pos="30" />
			<bitfield name="ENABLE" pos="31" />
		</reg32>
		<reg32 offset="0x1c" name="TRAP_UNK1">
			<bitfield name="TEMP_TOO_SMALL" pos="0" />
			<bitfield name="CLEAR" pos="30" />
			<bitfield name="ENABLE" pos="31" />
		</reg32>
		<reg32 offset="0x28" name="GPC_TPCNT" length="4">
			<bitfield low="0" high="3" name="0"/>
			<bitfield low="4" high="7" name="1"/>
			<bitfield low="8" high="11" name="2"/>
			<bitfield low="12" high="15" name="3"/>
			<bitfield low="16" high="19" name="4"/>
			<bitfield low="20" high="23" name="5"/>
			<bitfield low="24" high="27" name="6"/>
			<bitfield low="28" high="31" name="7"/>
		</reg32>
		<reg32 offset="0xa8" name="TP_GPCID" length="0x40">
			<bitfield low="0" high="4" name="0"/>
			<bitfield low="8" high="12" name="1"/>
			<bitfield low="16" high="20" name="2"/>
			<bitfield low="24" high="28" name="3"/>
		</reg32>
		<reg32 offset="0x4b0" name="TEMP_SIZE_PER_MP" shr="8"/>
	</array>
	<stripe offset="0x6800" stride="0x400" length="2">
		<stripe offset="0" name="TPGRAD" stride="0x20" length="0x20">
			<reg32 offset="0" name="MASK" length="8"/>
		</stripe>
	</stripe>
	<array offset="0x7000" name="SKED" stride="0x800" length="1" variants="NVE4-">
		<reg32 offset="0x00" name="JOE"/>
		<reg32 offset="0x04" name="UNK04"/>
		<reg32 offset="0x08" name="UNK08"/>
		<reg32 offset="0x0c" name="UNK0C"/>
		<reg32 offset="0x10" name="UNK10"/>
		<reg32 offset="0x20" name="TRAP">
			<doc>This reports compute program launch check errors
			(in the "launch descriptor") on a0c0.</doc>
			<bitfield pos="7" name="CONSTANT_BUFFER_SIZE"/>
			<bitfield pos="9" name="LOCAL_MEMORY_SIZE_POS"/>
			<bitfield pos="10" name="LOCAL_MEMORY_SIZE_NEG"/>
			<bitfield pos="11" name="WARP_CSTACK_SIZE"/>
			<bitfield pos="12" name="TOTAL_TEMP_SIZE"/>
			<bitfield pos="13" name="REGISTER_COUNT"/>
			<bitfield pos="18" name="TOTAL_THREADS"/>
			<bitfield pos="20" name="PROGRAM_OFFSET"/>
			<bitfield pos="21" name="SHARED_MEMORY_SIZE"/>
			<bitfield pos="25" name="SHARED_CONFIG_TOO_SMALL"/>
			<bitfield pos="26" name="TOTAL_REGISTER_COUNT"/>
			<bitfield pos="30" name="CLEAR"/>
		</reg32>
		<reg32 offset="0x24" name="UNK24"/>
		<reg32 offset="0x28" name="UNK28"/>
		<reg32 offset="0x2c" name="UNK2c"/>
		<reg32 offset="0x40" name="UNK40"/>
		<reg32 offset="0x54" name="UNK54"/>
		<reg32 offset="0x100" name="UNK100"/>
	</array>
	<array offset="0x7800" name="TPBUS" stride="0x800" length="1">
		<reg32 offset="0x08" name="PM_UNK08"/>
		<reg32 offset="0x0c" name="TP_GPCID" length="44">
			<bitfield low="0" high="4" name="0"/>
			<bitfield low="5" high="9" name="1"/>
			<bitfield low="10" high="14" name="2"/>
			<bitfield low="15" high="19" name="3"/>
			<bitfield low="20" high="24" name="4"/>
			<bitfield low="25" high="29" name="5"/>
		</reg32>
		<reg32 offset="0xbc" name="TOTAL">
			<bitfield low="0" high="7" name="ROP_COUNT"/>
			<bitfield low="8" high="15" name="GPC_COUNT"/>
		</reg32>
	</array>
	<array offset="0x8000" name="CCACHE" stride="0x800" length="1">
		<reg32 offset="0x04" name="HUB2GPC_ADDR" shr="8"/>
		<reg32 offset="0x08" name="HUB2GPC_CONF">
			<bitfield low="0" high="7" name="UNK0"/>
			<bitfield low="8" high="10" name="UNK8"/>
			<bitfield pos="31" name="UNK31"/>
		</reg32>
		<reg32 offset="0x0c" name="HUB2ESETUP_ADDR" shr="8"/>
		<reg32 offset="0x10" name="HUB2ESETUP_CONF">
			<bitfield low="0" high="10" name="UNK0"/>
			<bitfield low="11" high="15" name="UNK11"/>
			<bitfield pos="31" name="UNK31"/>
		</reg32>
		<reg32 offset="0x30" name="TRAP">
			<bitfield name="CLEAR" pos="30" />
			<bitfield name="ENABLE" pos="31" />
		</reg32>
	</array>

	<group name="nvc0_ctxctl">
		<use-group name="nv98_fucbase"/>
		<reg32 offset="0x400" name="SIGNAL">
			<bitfield pos="0" name="ZERO"/>
			<bitfield pos="1" name="PIBUS_INTR"/>
			<bitfield pos="2" name="STRAND_BUSY"/>
			<bitfield pos="3" name="UNK3_RED_SWITCH"/>
			<bitfield pos="4" name="UNK4_DISPATCH"/>
			<bitfield pos="5" name="MMCTX_DONE"/>
			<bitfield pos="6" name="MMIO_RD_DONE"/>
			<bitfield pos="7" name="MMIO_WRS_DONE"/>
			<bitfield pos="8" name="BAR_0">
				<doc>When BAR has all bits from BAR_REQMASK[0]&amp;BAR_REQMASK[1] set.</doc>
			</bitfield>
			<bitfield pos="9" name="BAR_1"/>
			<bitfield pos="10" name="UNK10_PCOUNTER"/>
			<bitfield pos="11" name="CC_WATCHDOG"/>
			<bitfield pos="12" name="UNK12_MEMIF"/>
			<bitfield pos="13" name="UNK13_MEMIF"/>
			<bitfield pos="14" name="UNK14_MEMIF"/>
		</reg32>
		<enum name="nvc0_ctxctl_isrc" inline="yes">
			<value value="0x02" name="GPC_UNK2"/>
			<value value="0x03" name="HUB_CHANNEL_SWITCH"/>
			<value value="0x04" name="HUB_UNK4"/>
			<value value="0x0b" name="HUB_CTXCTL_DOWN"/>
			<value value="0x0c" name="HUB_UNK12"/>
			<!-- 0x20 + X is SIGNAL bit X -->
			<value value="0x20" name="ZERO"/>
			<value value="0x21" name="PIBUS_INTR"/>
			<value value="0x22" name="STRAND_BUSY"/>
			<value value="0x23" name="UNK3_RED_SWITCH"/>
			<value value="0x24" name="UNK4_DISPATCH"/>
			<value value="0x25" name="MMCTX_DONE"/>
			<value value="0x26" name="MMIO_RD_DONE"/>
			<value value="0x27" name="MMIO_WRS_DONE"/>
			<value value="0x28" name="BAR_0"/>
			<value value="0x29" name="BAR_1"/>
			<value value="0x2a" name="UNK10_PCOUNTER"/>
			<value value="0x2b" name="CC_WATCHDOG"/>
			<value value="0x2c" name="UNK12_MEMIF"/>
			<value value="0x2d" name="UNK13_MEMIF"/>
			<value value="0x2e" name="UNK14_MEMIF"/>
		</enum>
		<bitset name="nvc0_ctxctl_iroute" inline="yes">
			<bitfield low="0" high="5" name="SRC0" type="nvc0_ctxctl_isrc"/>
			<bitfield low="8" high="13" name="SRC1" type="nvc0_ctxctl_isrc"/>
			<bitfield pos="16" name="FUN">
				<value value="0" name="OR"/>
				<value value="1" name="AND"/>
			</bitfield>
			<bitfield pos="17" name="NOT"/>
			<bitfield pos="18" name="LEVEL"/>
		</bitset>
		<reg32 offset="0x404" name="INTR_ROUTE" type="nvc0_ctxctl_iroute">
			<doc>Indexed fuc register, in 8 copies. Index i determines the source
			of fuc interrupt i+8.</doc>
		</reg32>
		<!-- BAR_REQMASK and BAR are indexed fÂµc regs, with valid indices being 0 and 1 -->
		<reg32 offset="0x40c" name="BAR_REQMASK" length="2"/>
		<reg32 offset="0x414" name="BAR"/>
		<reg32 offset="0x418" name="BAR_SET" length="2"/> <!-- not indexed. -->
		<reg32 offset="0x420" name="IDLE_STATUS">
			<bitfield pos="0" name="UC"/>
			<bitfield pos="1" name="USER"/>
			<bitfield pos="2" name="STRAND"/>
			<bitfield pos="3" name="MMIO"/>
		</reg32>
		<reg32 offset="0x424" name="USER_BUSY" type="boolean"/>
		<reg32 offset="0x430" name="CC_WATCHDOG">
			<bitfield low="0" high="29" name="TIME_REMAINING"/>
			<bitfield pos="31" name="ENABLE"/>
		</reg32>

		<reg32 offset="0x500" name="WRCMD_DATA"/>
		<reg32 offset="0x504" name="WRCMD_CMD"/>

		<reg32 offset="0x620" name="NEW_CAPS">
			<bitfield low="0" high="7" name="CODE_SIZE" shr="8"/>
			<bitfield low="8" high="15" name="DATA_SIZE" shr="8"/>
		</reg32>

		<reg32 offset="0x700" name="MMCTX_SAVE_SWBASE" shr="8"/>
		<reg32 offset="0x704" name="MMCTX_LOAD_SWBASE" shr="8"/>
		<reg32 offset="0x710" name="MMCTX_BASE"/>
		<reg32 offset="0x714" name="MMCTX_CTRL">
			<bitfield low="0" high="4" name="QFREE"/>
			<bitfield low="8" high="12" name="QLIMIT"/>
			<bitfield pos="16" name="DIR">
				<value value="0" name="SAVE"/>
				<value value="1" name="LOAD"/>
			</bitfield>
			<!-- what do these two do, exactly? -->
			<bitfield pos="17" name="START_TRIGGER"/>
			<bitfield pos="18" name="STOP_TRIGGER"/>
		</reg32>
		<reg32 offset="0x718" name="MMCTX_MULTI_STRIDE"/>
		<reg32 offset="0x71c" name="MMCTX_MULTI_MASK"/>
		<reg32 offset="0x720" name="MMCTX_QUEUE">
			<bitfield pos="0" name="BASE_EN"/>
			<bitfield pos="1" name="MULTI_EN"/>
			<bitfield low="2" high="25" name="ADDR" shr="2"/>
			<bitfield low="26" high="31" name="CNTM1">
				<brief>count - 1</brief>
			</bitfield>
		</reg32>
		<reg32 offset="0x728" name="MMIO_CTRL">
			<bitfield pos="0" name="UNK0"/>
			<bitfield low="2" high="25" name="ADDR" shr="2"/>
			<bitfield pos="29" name="WRS"/>
			<bitfield pos="30" name="ACCESS">
				<value value="0" name="READ"/>
				<value value="1" name="WRITE"/>
			</bitfield>
			<bitfield pos="31" name="TRIGGER"/>
		</reg32>
		<reg32 offset="0x72c" name="MMIO_RDVAL"/>
		<reg32 offset="0x730" name="MMIO_WRVAL"/>
		<reg32 offset="0x74c" name="MMCTX_LOAD_COUNT"/> <!-- WTF? -->

		<reg32 offset="0x800" name="CC_SCRATCH" length="8"/>
		<reg32 offset="0x820" name="CC_SCRATCH_SET" length="8"/>
		<reg32 offset="0x840" name="CC_SCRATCH_CLEAR" length="8"/>
		<reg32 offset="0x880" name="STRANDS_CNT"/>
		<reg32 offset="0x884" name="STRANDS_CMD_MASK"/> <!-- XXX: 18 bits, but 9 strands? -->

		<reg32 offset="0x904" name="STRAND_UNK4">
			<bitfield low="0" high="27" name="UNK0"/>
			<bitfield pos="31" name="UNK31"/>
		</reg32>
		<reg32 offset="0x908" name="STRAND_SAVE_SWBASE" shr="8"/>
		<reg32 offset="0x90c" name="STRAND_LOAD_SWBASE" shr="8"/>
		<reg32 offset="0x910" name="STRAND_WORDS"/>
		<reg32 offset="0x914" name="STRAND_UNK_MEMIF"/>
		<reg32 offset="0x918" name="STRAND_DATA"/>
		<reg32 offset="0x91c" name="STRAND_SELECT">
			<bitfield low="0" high="13" name="GENE"/>
			<bitfield low="16" high="19" name="UNK16"/>
			<bitfield low="20" high="27" name="UNK20"/>
		</reg32>
		<bitset name="NVC0_STRAND_GENE_INFO">
			<bitfield low="0" high="11" name="CELLS_M1"/>
			<bitfield low="12" high="21" name="CELL_BITS"/>
			<bitfield low="22" high="25" name="FILTER_UNK0"/>
			<bitfield low="26" high="29" name="FILTER_UNK1"/>
			<bitfield pos="31" name="VALID"/>
		</bitset>
		<reg32 offset="0x920" name="STRAND_UNK20">
			<bitfield low="0" high="6" name="UNK0"/>
			<bitfield low="16" high="21" name="UNK16"/>
			<bitfield pos="31" name="UNK31"/>
		</reg32>
		<reg32 offset="0x924" name="STRAND_STATUS">
			<bitfield low="0" high="3" name="LAST_CMD"/>
		</reg32>
		<reg32 offset="0x928" name="STRAND_CMD">
			<value value="1" name="SEEK"/>
			<value value="2" name="GET_INFO"/>
			<value value="3" name="SAVE"/>
			<value value="4" name="LOAD"/>
			<value value="5" name="UNK5"/> <!-- uses 918 -->
			<value value="6" name="READ"/>
			<value value="7" name="WRITE"/>
			<value value="0x8" name="ACTIVATE_ONE"/>
			<value value="0x9" name="DEACTIVATE_ONE"/>
			<value value="0xa" name="ACTIVATE_FILTER"/>
			<value value="0xb" name="DEACTIVATE_FILTER"/>
			<value value="0xc" name="ENABLE"/>
			<value value="0xd" name="DISABLE"/>
		</reg32>
		<reg32 offset="0x930" name="STRAND_UNK30" access="r"/>
		<reg32 offset="0x934" name="STRAND_UNK34" access="r"/>
		<reg32 offset="0x938" name="STRAND_UNK38"/> <!-- 24-bit -->
		<reg32 offset="0x93c" name="STRAND_FILTER"/>

		<reg32 offset="0xa04" name="MEM_BASE" shr="8"/>
		<reg32 offset="0xa0c" name="MEM_CHAN" type="nv50_channel"/>
		<reg32 offset="0xa10" name="MEM_CMD">
			<value value="7" name="LOAD_CHAN"/>
		</reg32>
		<reg32 offset="0xa20" name="MEM_TARGET">
			<bitfield low="0" high="4" name="TARGET">
				<value value="1" name="VM"/>
				<value value="2" name="VRAM"/>
				<value value="3" name="SYSRAM_NOSNOOP"/>
				<value value="4" name="SYSRAM"/>
			</bitfield>
			<bitfield pos="31" name="UNK31"/>
		</reg32>
	</group>

	<group name="nvc0_rop">
		<array offset="0x000" name="ZROP" stride="0x100" length="1">
			<reg32 offset="0x70" name="TRAP">
				<bitfield name="CLEAR" pos="30" />
				<bitfield name="ENABLE" pos="31" />
			</reg32>
		</array>
		<array offset="0x100" name="CROP" stride="0x100" length="1">
			<reg32 offset="0x14" name="PM_UNK14" length="8"/>
			<reg32 offset="0x44" name="TRAP">
				<bitfield name="CLEAR" pos="30" />
				<bitfield name="ENABLE" pos="31" />
			</reg32>
			<reg32 offset="0x88" name="PM_UNK88" length="2"/>
		</array>
		<reg32 offset="0x200" name="VSTATUS" access="r">
			<bitfield low="0" high="2" name="UNK0" type="NV50_VSTATUS"/>
			<bitfield low="3" high="5" name="UNK1" type="NV50_VSTATUS"/>
			<bitfield low="6" high="8" name="UNK2" type="NV50_VSTATUS"/>
			<bitfield low="9" high="11" name="PCOUNTER" type="NV50_VSTATUS"/>
			<bitfield low="12" high="14" name="UNK4" type="NV50_VSTATUS"/>
			<bitfield low="15" high="17" name="UNK5" type="NV50_VSTATUS"/>
		</reg32>
		<reg32 offset="0x204" name="TRAP">
			<bitfield pos="0" name="CROP"/>
			<bitfield pos="1" name="ZROP"/>
		</reg32>
		<reg32 offset="0x208" name="TRAP_EN">
			<bitfield pos="0" name="CROP"/>
			<bitfield pos="1" name="ZROP"/>
		</reg32>
		<reg32 offset="0x210" name="RED_SWITCH">
			<bitfield pos="2" name="PAUSE_ROP"/>
			<bitfield pos="6" name="POWER_ROP"/>
			<bitfield pos="10" name="ENABLE_ROP"/>
		</reg32>
	</group>

	<group name="nvc0_tp">
		<array offset="0x000" name="POLY" stride="0x200" length="1">
			<reg32 offset="0x048" name="POLY2ESETUP">
				<bitfield low="0" high="27" name="ADDRESS" shr="12"/>
				<bitfield pos="28" name="UNK28"/>
			</reg32>
			<reg32 offset="0x054" name="PM_UNK054"/>
			<reg32 offset="0x05c" name="TFB_UNFUCKUP_OFFSET_QUERIES">
				<doc>If set to 0, the 9097/1b0c/0d005002 query will return bytes written
				since the last time TFB_BUFFER_OFFSET (9097/0390) was written.
				Set it to 1 to make it return the full/absolute offset, which is required
				for a sane implementation of transform feedback.
				(Setting only on GPC[0].TP[0] seems enough.)</doc>
			</reg32>
			<reg32 offset="0x060" name="VSTATUS" access="r">
				<bitfield low="0" high="2" name="UNK0" type="NV50_VSTATUS"/>
				<bitfield low="3" high="5" name="UNK1" type="NV50_VSTATUS"/>
				<bitfield low="6" high="8" name="UNK2" type="NV50_VSTATUS"/>
				<bitfield low="9" high="11" name="UNK3" type="NV50_VSTATUS"/>
				<bitfield low="12" high="14" name="UNK4" type="NV50_VSTATUS"/>
				<bitfield low="15" high="17" name="UNK5" type="NV50_VSTATUS"/>
				<bitfield low="18" high="20" name="UNK6" type="NV50_VSTATUS"/>
				<bitfield low="21" high="23" name="UNK7" type="NV50_VSTATUS"/>
				<bitfield low="24" high="26" name="UNK8" type="NV50_VSTATUS"/>
				<bitfield low="27" high="29" name="UNK9" type="NV50_VSTATUS"/>
			</reg32>
			<reg32 offset="0x084" name="TRAP">
				<bitfield name="CLEAR" pos="30" />
				<bitfield name="ENABLE" pos="31" />
			</reg32>
			<reg32 offset="0x088" name="TPID"/>
		</array>
		<array offset="0x200" name="TEX" stride="0x100" length="1">
			<reg32 offset="0x24" name="TRAP">
				<bitfield name="CLEAR" pos="30" />
				<bitfield name="ENABLE" pos="31" />
			</reg32>
			<reg32 offset="0x38" name="VSTATUS_0" length="2" access="r">
				<bitfield low="0" high="2" name="UNK0" type="NV50_VSTATUS"/>
				<bitfield low="4" high="6" name="UNK1" type="NV50_VSTATUS"/>
				<bitfield low="8" high="10" name="UNK2" type="NV50_VSTATUS"/>
				<bitfield low="11" high="13" name="UNK3" type="NV50_VSTATUS"/>
				<bitfield low="14" high="16" name="UNK4" type="NV50_VSTATUS"/>
				<bitfield low="17" high="19" name="UNK5" type="NV50_VSTATUS"/>
				<bitfield low="20" high="22" name="UNK6" type="NV50_VSTATUS"/>
				<bitfield low="23" high="25" name="UNK7" type="NV50_VSTATUS"/>
				<bitfield low="26" high="28" name="UNK8" type="NV50_VSTATUS"/>
				<bitfield low="29" high="31" name="UNK9" type="NV50_VSTATUS"/>
			</reg32>
			<reg32 offset="0xdc" name="VSTATUS_1" access="r">
				<bitfield low="0" high="2" name="UNK0" type="NV50_VSTATUS"/>
				<bitfield low="4" high="6" name="UNK1" type="NV50_VSTATUS"/>
				<bitfield low="8" high="10" name="UNK2" type="NV50_VSTATUS"/>
				<bitfield low="11" high="13" name="UNK3" type="NV50_VSTATUS"/>
			</reg32>
		</array>
		<array offset="0x300" name="TPBUS" stride="0x100" length="1">
			<reg32 offset="0x00" name="TP_GPCID" length="44">
				<bitfield low="0" high="4" name="0"/>
				<bitfield low="5" high="9" name="1"/>
				<bitfield low="10" high="14" name="2"/>
				<bitfield low="15" high="19" name="3"/>
				<bitfield low="20" high="24" name="4"/>
				<bitfield low="25" high="29" name="5"/>
			</reg32>
			<reg32 offset="0xd0" name="UNKD0">
				<bitfield low="0" high="7" name="ROP_COUNT"/>
				<bitfield low="8" high="15" name="GPC_COUNT"/>
				<bitfield low="16" high="28" name="UNK16"/>
			</reg32>
			<reg32 offset="0xe4" name="UNKE4">
				<bitfield low="0" high="29" name="UNK0"/>
			</reg32>
		</array>
		<array offset="0x400" name="UNK400" stride="0x80" length="1">
			<reg32 offset="0x0c" name="PM_UNK0C"/>
			<reg32 offset="0x10" name="VSTATUS" access="r">
				<bitfield low="0" high="2" name="UNK0" type="NV50_VSTATUS"/>
				<bitfield low="3" high="5" name="UNK1" type="NV50_VSTATUS"/>
				<bitfield low="6" high="8" name="UNK2" type="NV50_VSTATUS"/>
				<bitfield low="9" high="11" name="UNK3" type="NV50_VSTATUS"/>
			</reg32>
		</array>
		<array offset="0x480" name="L1" stride="0x80" length="1">
			<reg32 offset="0x0c" name="TRAP">
				<bitfield pos="1" name="GLOBAL_MAP_READ"/> <!-- not passed up to TP.TRAP, causes VM fault -->
				<bitfield pos="2" name="GLOBAL_MAP_WRITE"/> <!-- not passed up to TP.TRAP, causes VM fault -->
				<bitfield pos="30" name="CLEAR"/>
				<bitfield pos="31" name="ENABLE"/>
			</reg32>
			<reg32 offset="0x28" name="PM_UNK28"/>
			<reg32 offset="0x68" name="TPID"/>
		</array>
		<array offset="0x500" name="MASTER" stride="0x100" length="1">
			<reg32 offset="0x00" name="VSTATUS" access="r">
				<bitfield low="0" high="2" name="UNK0" type="NV50_VSTATUS"/>
				<bitfield low="3" high="5" name="UNK1" type="NV50_VSTATUS"/>
				<bitfield low="6" high="8" name="UNK2" type="NV50_VSTATUS"/>
				<bitfield low="9" high="11" name="UNK3" type="NV50_VSTATUS"/>
				<bitfield low="12" high="14" name="UNK4" type="NV50_VSTATUS"/>
				<bitfield low="15" high="17" name="UNK5" type="NV50_VSTATUS"/>
				<bitfield low="18" high="20" name="UNK6" type="NV50_VSTATUS"/>
			</reg32>
			<reg32 offset="0x08" name="TRAP">
				<bitfield pos="0" name="TEX"/>
				<bitfield pos="1" name="MP"/>
				<bitfield pos="2" name="POLY"/>
				<bitfield pos="3" name="L1C"/>
			</reg32>
			<reg32 offset="0x0c" name="TRAP_EN">
				<bitfield pos="0" name="TEX"/>
				<bitfield pos="1" name="MP"/>
				<bitfield pos="2" name="POLY"/>
				<bitfield pos="3" name="L1C"/>
			</reg32>
		</array>
		<array offset="0x600" name="MP" stride="0x200" length="1">
			<reg32 offset="0x000" name="PM_UNK000"/>
			<enum name="nve4_mp_pm_siggroup_a" inline="yes">
				<value value="0x0" name="NONE"/>
				<value value="0x1" name="USER"/>
				<value value="0x3" name="LAUNCH"/>
				<value value="0x4" name="EXEC"/>
				<value value="0x5" name="ISSUE"/>
				<value value="0x1b" name="LDST"/>
				<value value="0x1c" name="BRANCH"/>
			</enum>
			<enum name="nve4_mp_pm_siggroup_b" inline="yes">
				<value value="0x0" name="NONE"/>
				<value value="0x2" name="WARP"/>
				<value value="0x10" name="L1"/>
				<value value="0x11" name="MEM"/>
			</enum>
			<reg32 offset="0x004" name="PM_A_SIGSEL" variants="NVE4-">
				<bitfield high="7"   low="0" name="0" type="nve4_mp_pm_siggroup_a"/>
				<bitfield high="15"  low="8" name="1" type="nve4_mp_pm_siggroup_a"/>
				<bitfield high="23" low="16" name="2" type="nve4_mp_pm_siggroup_a"/>
				<bitfield high="31" low="24" name="3" type="nve4_mp_pm_siggroup_a"/>
			</reg32>
			<reg32 offset="0x008" name="PM_B_SIGSEL" variants="NVE4-">
				<bitfield high="7"   low="0" name="0" type="nve4_mp_pm_siggroup_b"/>
				<bitfield high="15"  low="8" name="1" type="nve4_mp_pm_siggroup_b"/>
				<bitfield high="23" low="16" name="2" type="nve4_mp_pm_siggroup_b"/>
				<bitfield high="31" low="24" name="3" type="nve4_mp_pm_siggroup_b"/>
			</reg32>
			<reg32 offset="0x00c" name="BPT_STATUS"/>
			<reg32 offset="0x010" name="BPT_CONTROL"/>
			<reg32 offset="0x014" name="ACTIVE_WARP_MASK" length="2" stride="4"/>
			<reg32 offset="0x024" name="PAUSED_WARP_MASK" length="2" stride="4"/>
			<reg32 offset="0x034" name="BPT_TRAP_WARP_MASK" length="2" stride="4"/>
			<reg32 offset="0x044" name="TRAP_WARP_ERROR_EN">
				<bitfield pos="1" name="STACK_MISMATCH"/>
				<bitfield pos="5" name="MISALIGNED_PC"/>
				<bitfield pos="8" name="MISALIGNED_GPR"/>
				<bitfield pos="9" name="INVALID_OPCODE"/>
				<bitfield pos="13" name="GPR_OUT_OF_BOUNDS"/>
				<bitfield pos="14" name="MEM_OUT_OF_BOUNDS"/>
				<bitfield pos="17" name="INVALID_PARAM"/><!-- e.g. non-allocated barrier -->
			</reg32>
			<reg32 offset="0x048" name="TRAP_WARP_ERROR">
				<bitfield high="15" low="0" name="ID">
					<value value="1" name="STACK_MISMATCH"/>
					<value value="5" name="MISALIGNED_PC"/>
					<value value="8" name="MISALIGNED_GPR"/>
					<value value="9" name="INVALID_OPCODE"/>
					<value value="13" name="GPR_OUT_OF_BOUNDS"/>
					<value value="14" name="MEM_OUT_OF_BOUNDS"/>
					<value value="17" name="INVALID_PARAM"/>
				</bitfield>
			</reg32>
			<reg32 offset="0x04c" name="TRAP_GLOBAL_ERROR_EN">
				<bitfield pos="2" name="MULTIPLE_WARP_ERRORS"/>
				<bitfield pos="3" name="OUT_OF_STACK_SPACE"/>
			</reg32>
			<reg32 offset="0x050" name="TRAP_GLOBAL_ERROR">
				<bitfield pos="2" name="MULTIPLE_WARP_ERRORS"/>
				<bitfield pos="3" name="OUT_OF_STACK_SPACE"/>
			</reg32>
			<reg32 offset="0x058" name="TRAP_HANDLER_PC" variants="NVC0:NVE4"/>
			<enum name="nve4_mp_pm_mode" inline="yes">
				<value value="0" name="LOGOP"/>
				<value value="1" name="LOGOP_PULSE"/>
				<value value="2" name="B6"/>
				<value value="3" name="UNK3"/><!-- same as 2 ? -->
				<value value="4" name="LOGOP_B6"/>
				<value value="5" name="LOGOP_B6_PULSE"/>
				<value value="6" name="UNK6"/><!-- same as 4 ? -->
				<value value="7" name="UNK7"/><!-- same as 5 ? -->
				<value value="8" name="UNK8"/><!-- same as 0 ? -->
			</enum>
			<reg32 offset="0x058" name="PM_B_MODE" variants="NVE4-">
				<bitfield high="3" low="0" name="0" type="nve4_mp_pm_mode"/>
				<bitfield high="7" low="4" name="0" type="nve4_mp_pm_mode"/>
				<bitfield high="11" low="8" name="0" type="nve4_mp_pm_mode"/>
				<bitfield high="15" low="12" name="0" type="nve4_mp_pm_mode"/>
			</reg32>
			<reg32 offset="0x05c" name="PM_A_MODE" variants="NVE4-">
				<bitfield high="3" low="0" name="0" type="nve4_mp_pm_mode"/>
				<bitfield high="7" low="4" name="0" type="nve4_mp_pm_mode"/>
				<bitfield high="11" low="8" name="0" type="nve4_mp_pm_mode"/>
				<bitfield high="15" low="12" name="0" type="nve4_mp_pm_mode"/>
			</reg32>
			<reg32 offset="0x060" name="PM_A_FUNC" length="2" variants="NVE4-">
				<bitfield low="0" high="15" name="0"/>
				<bitfield low="16" high="31" name="1"/>
			</reg32>
			<reg32 offset="0x068" name="PM_B_FUNC" length="2" variants="NVE4-">
				<bitfield low="0" high="15" name="0"/>
				<bitfield low="16" high="31" name="1"/>
			</reg32>
			<reg32 offset="0x070" name="PM_COUNTER_OVERFLOW">
				<bitfield pos="0" name="0"/>
				<bitfield pos="1" name="1"/>
				<bitfield pos="2" name="2"/>
				<bitfield pos="3" name="3"/>
				<bitfield pos="4" name="4"/>
				<bitfield pos="5" name="5"/>
				<bitfield pos="6" name="6"/>
				<bitfield pos="7" name="7"/>
			</reg32>
			<reg32 offset="0x074" name="PM_COUNTER" length="8"/>
			<reg32 offset="0x094" name="PM_UNK094"/>
			<reg32 offset="0x098" name="TPID"/>
			<reg32 offset="0x0a4" name="CCACHE_CTRL">
				<bitfield pos="0" name="CODE_FLUSH_TRIGGER"/>
				<bitfield pos="1" name="CBUF_FLUSH_TRIGGER"/>
			</reg32>
			<reg32 offset="0x0ac" name="UNK0AC"/>
			<reg32 offset="0x128" name="VSTATUS" access="r">
				<bitfield low="0" high="2" name="UNK0" type="NV50_VSTATUS"/>
				<bitfield low="3" high="5" name="UNK1" type="NV50_VSTATUS"/>
				<bitfield low="6" high="8" name="UNK2" type="NV50_VSTATUS"/>
				<bitfield low="9" high="11" name="UNK3" type="NV50_VSTATUS"/>
				<bitfield low="12" high="14" name="UNK4" type="NV50_VSTATUS"/>
				<bitfield low="15" high="17" name="UNK5" type="NV50_VSTATUS"/>
				<bitfield low="18" high="20" name="UNK6" type="NV50_VSTATUS"/>
				<bitfield low="21" high="23" name="UNK7" type="NV50_VSTATUS"/>
				<bitfield low="24" high="26" name="UNK8" type="NV50_VSTATUS"/>
				<bitfield low="27" high="29" name="UNK9" type="NV50_VSTATUS"/>
				<bitfield low="30" high="31" name="UNK30"/> <!-- what the fuck? -->
			</reg32>
			<reg32 offset="0x130" name="PM_A_SRCSEL" length="4" variants="NVE4-">
				<bitfield high="1"  low="0"  name="GRP0"/>
				<bitfield high="4"  low="2"  name="SIG0"/>
				<bitfield high="6"  low="5"  name="GRP1"/>
				<bitfield high="9"  low="7"  name="SIG1"/>
				<bitfield high="11" low="10" name="GRP2"/>
				<bitfield high="14" low="12" name="SIG2"/>
				<bitfield high="16" low="15" name="GRP3"/>
				<bitfield high="19" low="17" name="SIG3"/>
				<bitfield high="21" low="20" name="GRP4"/>
				<bitfield high="24" low="22" name="SIG4"/>
				<bitfield high="26" low="25" name="GRP5"/>
				<bitfield high="29" low="27" name="SIG5"/>
			</reg32>
			<reg32 offset="0x140" name="PM_B_SRCSEL" length="4" variants="NVE4-">
				<bitfield high="1"  low="0"  name="GRP0"/>
				<bitfield high="4"  low="2"  name="SIG0"/>
				<bitfield high="6"  low="5"  name="GRP1"/>
				<bitfield high="9"  low="7"  name="SIG1"/>
				<bitfield high="11" low="10" name="GRP2"/>
				<bitfield high="14" low="12" name="SIG2"/>
				<bitfield high="16" low="15" name="GRP3"/>
				<bitfield high="19" low="17" name="SIG3"/>
				<bitfield high="21" low="20" name="GRP4"/>
				<bitfield high="24" low="22" name="SIG4"/>
				<bitfield high="26" low="25" name="GRP5"/>
				<bitfield high="29" low="27" name="SIG5"/>
			</reg32>
		</array>
	</group>

	<group name="nvc0_gpc">
		<array offset="0x380" name="UNK380" stride="0x080" length="1">
			<reg32 offset="0x04" name="PM_UNK04"/>
		</array>
		<array offset="0x400" name="PROP" stride="0x100" length="1">
			<reg32 offset="0x20" name="TRAP">
				<bitfield pos="1" name="RT_PITCH_OVERRUN"/>
				<bitfield pos="4" name="RT_WIDTH_OVERRUN"/>
				<bitfield pos="5" name="RT_HEIGHT_OVERRUN"/>
				<bitfield pos="7" name="ZETA_STORAGE_TYPE_MISMATCH"/>
				<bitfield pos="8" name="RT_STORAGE_TYPE_MISMATCH"/>
				<bitfield pos="10" name="RT_LINEAR_MISMATCH"/>
				<bitfield pos="30" name="CLEAR"/>
				<bitfield pos="31" name="ENABLE"/>
			</reg32>
			<reg32 offset="0x34" name="TRAP_5">
				<bitfield low="0" high="15" name="X"/>
				<bitfield low="16" high="31" name="Y"/>
			</reg32>
			<reg32 offset="0x38" name="TRAP_6">
				<bitfield low="8" high="13" name="FORMAT"/>
			</reg32>
			<reg32 offset="0x3c" name="TRAP_7">
				<bitfield low="0" high="7" name="STORAGE_TYPE"/>
			</reg32>
			<reg32 offset="0xa0" name="PM_UNKA0"/>
		</array>
		<array offset="0x500" name="UNK500" stride="0x100" length="1">
		</array>
		<array offset="0x600" name="UNK600" stride="0x080" length="1">
			<reg32 offset="0x04" name="PM_UNK04"/>
		</array>
		<array offset="0x680" name="UNK680" stride="0x080" length="1">
			<reg32 offset="0x00" name="PM_UNK00"/>
		</array>
		<array offset="0x700" name="UNK700" stride="0x080" length="1">
			<reg32 offset="0x14" name="PM_UNK14"/>
		</array>
		<array offset="0x800" name="ESETUP" stride="0x080" length="1">
			<reg32 offset="0x08" name="HUB2ESETUP_ADDR" shr="8"/>
			<reg32 offset="0x0c" name="HUB2ESETUP_CONF">
				<bitfield low="0" high="10" name="UNK0"/>
				<bitfield pos="31" name="UNK31"/>
			</reg32>
			<reg32 offset="0x10" name="POLY2ESETUP">
				<bitfield low="0" high="27" name="ADDRESS" shr="12"/>
				<bitfield pos="31" name="UNK31"/>
			</reg32>
			<reg32 offset="0x1c" name="PM_UNK1C"/>
			<reg32 offset="0x24" name="TRAP">
				<bitfield name="CLEAR" pos="30" />
				<bitfield name="ENABLE" pos="31" />
			</reg32>
		</array>
		<array offset="0x880" name="FFB" stride="0x080" length="1">
			<reg32 offset="0x2c" name="PART_CONFIG">
				<bitfield low="0" high="3" name="PART_COUNT"/>
				<bitfield pos="4" name="MEM_SPLIT_ENABLE"/>
			</reg32>
			<reg32 offset="0x34" name="UNK34_ADDR" shr="8"/>
			<reg32 offset="0x38" name="UNK38_ADDR" shr="8"/>
			<reg32 offset="0x48" name="PM_UNK48"/>
		</array>
		<array offset="0x900" name="ZCULL" stride="0x080" length="1">
			<reg32 offset="0x00" name="TRAP">
				<bitfield name="CLEAR" pos="30" />
				<bitfield name="ENABLE" pos="31" />
			</reg32>
		</array>
		<array offset="0x980" name="UNK980" stride="0x080" length="1">
		</array>
		<array offset="0xa00" name="UNKA00" stride="0x100" length="1">
		</array>
		<array offset="0xb00" name="TPBUS" stride="0x100" length="1">
			<reg32 offset="0x04" name="PM_UNK04"/>
			<reg32 offset="0x08" name="TP_GPCID" length="44">
				<bitfield low="0" high="4" name="0"/>
				<bitfield low="5" high="9" name="1"/>
				<bitfield low="10" high="14" name="2"/>
				<bitfield low="15" high="19" name="3"/>
				<bitfield low="20" high="24" name="4"/>
				<bitfield low="25" high="29" name="5"/>
			</reg32>
			<reg32 offset="0xb8" name="TOTAL">
				<bitfield low="0" high="7" name="ROP_COUNT"/>
				<bitfield low="8" high="15" name="GPC_COUNT"/>
			</reg32>
		</array>
		<array offset="0xc00" name="TPCONF" stride="0x080" length="1">
			<reg32 offset="0x8" name="TPCNT"/>
			<reg32 offset="0x10" name="TPID" length="8"/>
		</array>
		<array offset="0xc80" name="UNKC80" stride="0x080" length="1">
			<reg32 offset="0xc" name="TPCNT"/>
		</array>
		<array offset="0xd00" name="UNKD00" stride="0x080" length="1">
		</array>
		<array offset="0xe00" name="UNKE00" stride="0x100" length="1">
		</array>
		<array offset="0xf00" name="UNKF00" stride="0x100" length="1">
		</array>
		<array offset="0x1000" name="CCACHE" stride="0x100" length="1">
			<reg32 offset="0x00" name="CACHE_CTRL">
				<bitfield pos="1" name="FLUSH_TRIGGER"/>
			</reg32>
			<reg32 offset="0x04" name="HUB2GPC_ADDR" shr="8"/>
			<reg32 offset="0x08" name="HUB2GPC_CONF">
				<bitfield low="0" high="7" name="UNK0"/>
			</reg32>
			<reg32 offset="0x28" name="TRAP">
				<bitfield name="CLEAR" pos="30" />
				<bitfield name="ENABLE" pos="31" />
			</reg32>
		</array>
		<array name="TP_BROADCAST" offset="0x1800" stride="0x800" length="1">
			<use-group name="nvc0_tp"/>
		</array>

		<array name="CTXCTL" offset="0x2000" stride="0x1000" length="1">
			<use-group name="nvc0_ctxctl"/>
			<reg32 offset="0x608" name="UNITS">
				<bitfield low="0" high="4" name="TP_COUNT"/>
				<bitfield low="16" high="20" name="UNK_ZCULL_COUNT"/>
			</reg32>
			<reg32 offset="0x614" name="RED_SWITCH">
				<bitfield pos="1" name="PAUSE_GPC"/>
				<bitfield pos="5" name="POWER_GPC"/>
				<bitfield pos="9" name="ENABLE_GPC"/>
				<bitfield pos="11" name="UNK11"/>
			</reg32>
			<reg32 offset="0x618" name="MYINDEX"/>
			<reg32 offset="0xc18" name="INTR_UP_STATUS"/>
			<reg32 offset="0xc1c" name="INTR_UP_SET"/>
			<reg32 offset="0xc20" name="INTR_UP_CLEAR"/>
			<reg32 offset="0xc24" name="INTR_UP_ENABLE"/>
			<reg32 offset="0xc80" name="VSTATUS_0" access="r">
				<bitfield low="0" high="2" name="UNK0" type="NV50_VSTATUS"/>
				<bitfield low="3" high="5" name="UNK1" type="NV50_VSTATUS"/>
				<bitfield low="6" high="8" name="UNK2" type="NV50_VSTATUS"/>
				<bitfield low="9" high="11" name="UNK3" type="NV50_VSTATUS"/>
				<bitfield low="12" high="14" name="UNK4" type="NV50_VSTATUS"/>
				<bitfield low="15" high="17" name="UNK5" type="NV50_VSTATUS"/>
				<bitfield low="18" high="20" name="UNK6" type="NV50_VSTATUS"/>
				<bitfield low="21" high="23" name="UNK7" type="NV50_VSTATUS"/>
			</reg32>
			<reg32 offset="0xc84" name="VSTATUS_1" access="r">
				<bitfield low="0" high="2" name="UNK8" type="NV50_VSTATUS"/>
				<bitfield low="3" high="5" name="UNK9" type="NV50_VSTATUS"/>
				<bitfield low="6" high="8" name="UNK10" type="NV50_VSTATUS"/>
				<bitfield low="9" high="11" name="UNK11" type="NV50_VSTATUS"/>
				<bitfield low="12" high="14" name="UNK12" type="NV50_VSTATUS"/>
				<bitfield low="15" high="17" name="UNK13" type="NV50_VSTATUS"/>
				<bitfield low="18" high="20" name="UNK14" type="NV50_VSTATUS"/>
				<bitfield low="21" high="23" name="PCOUNTER" type="NV50_VSTATUS"/>
			</reg32>
			<reg32 offset="0xc88" name="VSTATUS_2" access="r">
				<bitfield low="0" high="2" name="UNK15" type="NV50_VSTATUS"/>
				<bitfield low="3" high="5" name="UNK16" type="NV50_VSTATUS"/>
			</reg32>
			<reg32 offset="0xc8c" name="VSTATUS_3" access="r">
				<bitfield low="0" high="2" name="UNK17" type="NV50_VSTATUS"/>
				<bitfield low="3" high="5" name="UNK18" type="NV50_VSTATUS"/>
				<bitfield low="6" high="8" name="UNK19" type="NV50_VSTATUS"/>
				<bitfield low="9" high="11" name="UNK20" type="NV50_VSTATUS"/>
			</reg32>
			<reg32 offset="0xc90" name="TRAP">
				<bitfield pos="0" name="PROP"/>
				<bitfield pos="1" name="ZCULL"/>
				<bitfield pos="2" name="CCACHE"/>
				<bitfield pos="3" name="ESETUP"/>
				<bitfield low="16" high="23" name="TP"/>
			</reg32>
			<reg32 offset="0xc94" name="TRAP_EN">
				<bitfield pos="0" name="PROP"/>
				<bitfield pos="1" name="ZCULL"/>
				<bitfield pos="2" name="CCACHE"/>
				<bitfield pos="3" name="ESETUP"/>
				<bitfield low="16" high="23" name="TP"/>
			</reg32>
		</array>

		<array offset="0x3000" stride="0x1000" length="1" name="UNK3000" variants="NVE4-">
			<reg32 offset="0x14" name="PM_UNK14"/>
		</array>

		<array name="TP" offset="0x4000" stride="0x800" length="4">
			<use-group name="nvc0_tp"/>
		</array>
	</group>

	<array name="CTXCTL" offset="0x9000" stride="0x1000" length="1">
		<use-group name="nvc0_ctxctl"/>
		<reg32 offset="0x604" name="UNITS">
			<bitfield low="0" high="4" name="GPC_COUNT"/>
			<bitfield low="16" high="20" name="ROP_COUNT"/>
		</reg32>
		<reg32 offset="0x614" name="RED_SWITCH">
			<bitfield pos="0" name="PAUSE_MAIN"/>
			<bitfield pos="1" name="PAUSE_GPC"/>
			<bitfield pos="4" name="POWER_MAIN"/>
			<bitfield pos="5" name="POWER_GPC"/>
			<bitfield pos="6" name="POWER_ROP"/>
			<bitfield pos="8" name="ENABLE_MAIN"/>
			<bitfield pos="9" name="ENABLE_GPC"/>
			<bitfield pos="10" name="ENABLE_ROP"/>
		</reg32>

		<reg32 offset="0xc14" name="INTR_UP_ROUTE" type="nvc0_ctxctl_iroute">
			<doc>Indexed fuc register, in 19 copies. Index i determines the source
			of interrupt i. Source for interrupt 19 is hardwired to 0x2b [WATCHDOG].</doc>
		</reg32>
	</array>

	<array name="ROP_BROADCAST" offset="0x8800" stride="0x400" length="1">
		<use-group name="nvc0_rop"/>
	</array>

	<array name="ROP" offset="0x10000" stride="0x400" length="8">
		<use-group name="nvc0_rop"/>
	</array>

	<array name="GPC_BROADCAST" offset="0x18000" stride="0x8000" length="1">
		<use-group name="nvc0_gpc"/>
	</array>

	<array name="GPC" offset="0x100000" stride="0x8000" length="4">
		<use-group name="nvc0_gpc"/>
	</array>
</array>

</domain>

</database>
